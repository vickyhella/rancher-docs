"use strict";(self.webpackChunkrancher_docs=self.webpackChunkrancher_docs||[]).push([[14695],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>h});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),l=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},p=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),d=l(r),h=a,g=d["".concat(s,".").concat(h)]||d[h]||u[h]||o;return r?n.createElement(g,c(c({ref:t},p),{},{components:r})):n.createElement(g,c({ref:t},p))}));function h(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,c=new Array(o);c[0]=d;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,c[1]=i;for(var l=2;l<o;l++)c[l]=r[l];return n.createElement.apply(null,c)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},45114:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var n=r(87462),a=(r(67294),r(3905));const o={title:"Supportconfig bundle"},c=void 0,i={unversionedId:"integrations-in-rancher/cloud-marketplace/supportconfig",id:"integrations-in-rancher/cloud-marketplace/supportconfig",title:"Supportconfig bundle",description:"After installing the CSP adapter, you will have the ability to generate a supportconfig bundle. This bundle is a tar file which can be used to quickly provide information to support.",source:"@site/docs/integrations-in-rancher/cloud-marketplace/supportconfig.md",sourceDirName:"integrations-in-rancher/cloud-marketplace",slug:"/integrations-in-rancher/cloud-marketplace/supportconfig",permalink:"/integrations-in-rancher/cloud-marketplace/supportconfig",draft:!1,editUrl:"https://github.com/rancher/rancher-docs/edit/main/docs/integrations-in-rancher/cloud-marketplace/supportconfig.md",tags:[],version:"current",lastUpdatedAt:1666730461,formattedLastUpdatedAt:"Oct 25, 2022",frontMatter:{title:"Supportconfig bundle"},sidebar:"tutorialSidebar",previous:{title:"Common Issues",permalink:"/integrations-in-rancher/cloud-marketplace/aws-cloud-marketplace/common-issues"},next:{title:"CIS Scans",permalink:"/pages-for-subheaders/cis-scans"}},s={},l=[{value:"Accessing through Rancher",id:"accessing-through-rancher",level:3},{value:"Accessing without rancher",id:"accessing-without-rancher",level:3}],p={toc:l};function u(e){let{components:t,...o}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"After installing the CSP adapter, you will have the ability to generate a supportconfig bundle. This bundle is a tar file which can be used to quickly provide information to support."),(0,a.kt)("p",null,"These bundles can be created through Rancher or through direct access to the cluster that Rancher is installed on. Note that accessing through Rancher is preferred."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Note:")," Only admin users can generate/download supportconfig bundles, regardless of method.")),(0,a.kt)("h3",{id:"accessing-through-rancher"},"Accessing through Rancher"),(0,a.kt)("p",null,"First, click on the hamburger menu. Then click the ",(0,a.kt)("inlineCode",{parentName:"p"},"Get Support")," button."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Get Support",src:r(25225).Z,width:"280",height:"525"})),(0,a.kt)("p",null,"In the next page, click on the ",(0,a.kt)("inlineCode",{parentName:"p"},"Generate Support Config")," button."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Note:")," If the adapter is not installed, the option to generate the supportconfig bundle will not be present. You must install the CSP adapter to generate a supportconfig bundle.")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Get Support",src:r(74321).Z,width:"1279",height:"882"})),(0,a.kt)("h3",{id:"accessing-without-rancher"},"Accessing without rancher"),(0,a.kt)("p",null,"First, generate a kubeconfig for the cluster that Rancher is installed on."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Note:")," If Rancher is down, you will not be able to use a kubeconfig token generated by Rancher to access the cluster.")),(0,a.kt)("p",null,"Configure your shell environment to use this kubeconfig token:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"export KUBECONFIG=$MY_KUBECONFIG_PATH\n")),(0,a.kt)("p",null,"It is recommended to create a temporary working directory while running this command, like below:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir temp && cd temp\n")),(0,a.kt)("p",null,"Then, retrieve the supportconfig bundle:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir rancher && kubectl get configmap csp-config -n cattle-csp-adapter-system -o=jsonpath='{.data.data}' >> rancher/config.json && tar -c -f supportconfig_rancher.tar rancher && rm -rf rancher\n")),(0,a.kt)("p",null,"This will create a ",(0,a.kt)("inlineCode",{parentName:"p"},"supportconfig_rancher.tar")," file in your current directory."),(0,a.kt)("p",null,"Users who run these commands on Mac may experience issues due to incompatibilities between gnu-tar and bsd-tar. If support has issues reading a supportconfig that you produce, try using the below command after making gnu-tar accessible as ",(0,a.kt)("inlineCode",{parentName:"p"},"gtar")," on your path:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"mkdir rancher && kubectl get configmap csp-config -n cattle-csp-adapter-system -o=jsonpath='{.data.data}' >> rancher/config.json && gtar -c -f supportconfig_rancher.tar rancher && rm -rf rancher\n")))}u.isMDXComponent=!0},74321:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/generate-support-config-912d39d2192bf813b437e5438c624d4a.png"},25225:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/support-help-56c36c59f2a37b080d228a10d55f2ad1.png"}}]);
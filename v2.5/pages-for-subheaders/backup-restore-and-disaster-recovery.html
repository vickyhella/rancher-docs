<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.5 plugin-docs plugin-id-default docs-doc-id-pages-for-subheaders/backup-restore-and-disaster-recovery">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="Rancher Manager" href="/opensearch.xml"><title data-rh="true">Backups and Disaster Recovery | Rancher Manager</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://docs.ranchermanager.rancher.io//v2.5/pages-for-subheaders/backup-restore-and-disaster-recovery"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.5"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.5"><meta data-rh="true" name="docsearch:version" content="2.5"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.5"><meta data-rh="true" property="og:title" content="Backups and Disaster Recovery | Rancher Manager"><meta data-rh="true" name="description" content="In this section, you&#x27;ll learn how to create backups of Rancher, how to restore Rancher from backup, and how to migrate Rancher to a new Kubernetes cluster."><meta data-rh="true" property="og:description" content="In this section, you&#x27;ll learn how to create backups of Rancher, how to restore Rancher from backup, and how to migrate Rancher to a new Kubernetes cluster."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="http://docs.ranchermanager.rancher.io//v2.5/pages-for-subheaders/backup-restore-and-disaster-recovery"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.5/pages-for-subheaders/backup-restore-and-disaster-recovery" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.5/pages-for-subheaders/backup-restore-and-disaster-recovery" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.31d3122a.css">
<link rel="preload" href="/assets/js/runtime~main.d2604d48.js" as="script">
<link rel="preload" href="/assets/js/main.aa78001f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/v2.5">v2.5</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/pages-for-subheaders/backup-restore-and-disaster-recovery">v2.6</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v2.5/pages-for-subheaders/backup-restore-and-disaster-recovery">v2.5</a></li><li><a class="dropdown__link" href="/v2.0-v2.4/pages-for-subheaders/backup-restore-and-disaster-recovery">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__docs navbar__link--active" href="/v2.5">Docs</a><a href="https://github.com/rancher/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github btn btn-secondary icon-github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.5">Rancher 2.5</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.5/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/v2.5/how-to-guides">How-to Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.5/pages-for-subheaders/new-user-guides">New User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;New User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/kubernetes-cluster-setup">Kubernetes Cluster Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes Cluster Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/infrastructure-setup">Infrastructure Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Infrastructure Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/kubernetes-clusters-in-rancher-setup">Kubernetes Clusters in Rancher Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes Clusters in Rancher Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/kubernetes-resources-setup">Kubernetes Resources Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes Resources Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/pages-for-subheaders/helm-charts-in-rancher">Helm Charts in Rancher</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/deploy-apps-across-clusters">Deploy Apps Across Clusters</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deploy Apps Across Clusters&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/v2.5/pages-for-subheaders/backup-restore-and-disaster-recovery">Backup, Restore, and Disaster Recovery</a><button aria-label="Toggle the collapsible sidebar category &#x27;Backup, Restore, and Disaster Recovery&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/back-up-rancher">Backing up Rancher</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/restore-rancher">Restoring Rancher</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/migrate-rancher-to-new-cluster">Migrating Rancher to a New Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/back-up-docker-installed-rancher">Backing up Rancher Installed with Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/restore-docker-installed-rancher">Restoring Backups—Docker Installs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/back-up-rancher-launched-kubernetes-clusters">Backing up a Cluster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/restore-rancher-launched-kubernetes-clusters-from-backup">Restoring a Cluster from Backup</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.5/pages-for-subheaders/advanced-user-guides">Advanced User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.5/reference-guides">Reference Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.5/explanations">Explanations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Explanations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.5/faq">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.5/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.5/contribute-to-rancher">Contributing to Rancher</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Rancher Manager<!-- --> <b>v2.5</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/pages-for-subheaders/backup-restore-and-disaster-recovery">latest version</a></b> (<!-- -->v2.6<!-- -->).</div></div><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.5/how-to-guides"><span itemprop="name">How-to Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.5/pages-for-subheaders/new-user-guides"><span itemprop="name">New User Guides</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Backup, Restore, and Disaster Recovery</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v2.5</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Backups and Disaster Recovery</h1></header><p>In this section, you&#x27;ll learn how to create backups of Rancher, how to restore Rancher from backup, and how to migrate Rancher to a new Kubernetes cluster.</p><p>As of Rancher v2.5, the <code>rancher-backup</code> operator is used to backup and restore Rancher. The <code>rancher-backup</code> Helm chart is <a href="https://github.com/rancher/charts/tree/release-v2.5/charts/rancher-backup" target="_blank" rel="noopener noreferrer">here.</a></p><p>The backup-restore operator needs to be installed in the local cluster, and only backs up the Rancher app. The backup and restore operations are performed only in the local Kubernetes cluster.</p><blockquote><p>When restoring a backup into a new Rancher setup, the version of the new setup should be the same as the one where the backup is made.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="changes-in-rancher-v25">Changes in Rancher v2.5<a class="hash-link" href="#changes-in-rancher-v25" title="Direct link to heading">​</a></h2><p>The new <code>rancher-backup</code> operator allows Rancher to be backed up and restored on any Kubernetes cluster. This application is a Helm chart, and it can be deployed through the Rancher <strong>Apps &amp; Marketplace</strong> page, or by using the Helm CLI.</p><p>Previously, the way that cluster data was backed up depended on the type of Kubernetes cluster that was used.</p><p>In Rancher v2.4, it was only supported to install Rancher on two types of Kubernetes clusters: an RKE cluster, or a K3s cluster with an external database. If Rancher was installed on an RKE cluster, RKE would be used to take a snapshot of the etcd database and restore the cluster. If Rancher was installed on a K3s cluster with an external database, the database would need to be backed up and restored using the upstream documentation for the database.</p><p>In Rancher v2.5, it is now supported to install Rancher hosted Kubernetes clusters, such as Amazon EKS clusters, which do not expose etcd to a degree that would allow snapshots to be created by an external tool. etcd doesn&#x27;t need to be exposed for <code>rancher-backup</code> to work, because the operator gathers resources by making calls to <code>kube-apiserver</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="backup-and-restore-for-rancher-v25-installed-with-docker">Backup and Restore for Rancher v2.5 installed with Docker<a class="hash-link" href="#backup-and-restore-for-rancher-v25-installed-with-docker" title="Direct link to heading">​</a></h3><p>For Rancher installed with Docker, refer to the same steps used up till 2.5 for <a href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/back-up-docker-installed-rancher">backups</a> and <a href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/restore-docker-installed-rancher">restores.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-backups-and-restores-work">How Backups and Restores Work<a class="hash-link" href="#how-backups-and-restores-work" title="Direct link to heading">​</a></h2><p>The <code>rancher-backup</code> operator introduces three custom resources: Backups, Restores, and ResourceSets. The following cluster-scoped custom resource definitions are added to the cluster:</p><ul><li><code>backups.resources.cattle.io</code></li><li><code>resourcesets.resources.cattle.io</code></li><li><code>restores.resources.cattle.io</code></li></ul><p>The ResourceSet defines which Kubernetes resources need to be backed up. The ResourceSet is not available to be configured in the Rancher UI because the values required to back up Rancher are predefined. This ResourceSet should not be modified.</p><p>When a Backup custom resource is created, the <code>rancher-backup</code> operator calls the <code>kube-apiserver</code> to get the resources in the ResourceSet (specifically, the predefined <code>rancher-resource-set</code>) that the Backup custom resource refers to.</p><p>The operator then creates the backup file in the .tar.gz format and stores it in the location configured in the Backup resource.</p><p>When a Restore custom resource is created, the operator accesses the backup .tar.gz file specified by the Restore, and restores the application from that file.</p><p>The Backup and Restore custom resources can be created in the Rancher UI, or by using <code>kubectl apply</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installing-the-rancher-backup-operator">Installing the rancher-backup Operator<a class="hash-link" href="#installing-the-rancher-backup-operator" title="Direct link to heading">​</a></h2><p>The <code>rancher-backup</code> operator can be installed from the Rancher UI, or with the Helm CLI. In both cases, the <code>rancher-backup</code> Helm chart is installed on the Kubernetes cluster running the Rancher server. It is a cluster-admin only feature and available only for the <strong>local</strong> cluster.  (<em>If you do not see <code>rancher-backup</code> in the Rancher UI, you may have selected the wrong cluster.</em>)</p><blockquote><p><strong>NOTE:</strong> There are two known issues in Fleet that occur after performing a restoration using the backup-restore-operator: Fleet agents are inoperable and clientSecretName and helmSecretName are not included in Fleet gitrepos. Refer <a href="/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/fleet#troubleshooting">here</a> for workarounds.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-rancher-backup-with-the-rancher-ui">Installing rancher-backup with the Rancher UI<a class="hash-link" href="#installing-rancher-backup-with-the-rancher-ui" title="Direct link to heading">​</a></h3><ol><li>In the Rancher UI&#x27;s Cluster Manager, choose the cluster named <strong>local</strong></li><li>On the upper-right click on the <strong>Cluster Explorer.</strong></li><li>Click <strong>Apps.</strong></li><li>Click the <code>rancher-backup</code> operator.</li><li>Optional: Configure the default storage location. For help, refer to the <a href="/v2.5/reference-guides/backup-restore-configuration/storage-configuration">configuration section.</a></li></ol><p><strong>Result:</strong> The <code>rancher-backup</code> operator is installed.</p><p>From the <strong>Cluster Explorer,</strong> you can see the <code>rancher-backup</code> operator listed under <strong>Deployments.</strong></p><p>To configure the backup app in Rancher, click <strong>Cluster Explorer</strong> in the upper left corner and click <strong>Rancher Backups.</strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="installing-rancher-backup-with-the-helm-cli">Installing rancher-backup with the Helm CLI<a class="hash-link" href="#installing-rancher-backup-with-the-helm-cli" title="Direct link to heading">​</a></h3><p>Install the backup app as a Helm chart:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm repo add rancher-charts https://charts.rancher.io</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm repo update</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm install rancher-backup-crd rancher-charts/rancher-backup-crd -n cattle-resources-system --create-namespace</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm install rancher-backup rancher-charts/rancher-backup -n cattle-resources-system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rbac">RBAC<a class="hash-link" href="#rbac" title="Direct link to heading">​</a></h3><p>Only the rancher admins and the local cluster’s cluster-owner can:</p><ul><li>Install the Chart</li><li>See the navigation links for Backup and Restore CRDs</li><li>Perform a backup or restore by creating a Backup CR and Restore CR respectively</li><li>List backups/restores performed so far</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="backing-up-rancher">Backing up Rancher<a class="hash-link" href="#backing-up-rancher" title="Direct link to heading">​</a></h2><p>A backup is performed by creating a Backup custom resource. For a tutorial, refer to <a href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/back-up-rancher">this page.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="restoring-rancher">Restoring Rancher<a class="hash-link" href="#restoring-rancher" title="Direct link to heading">​</a></h2><p>A restore is performed by creating a Restore custom resource. For a tutorial, refer to <a href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/restore-rancher">this page.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="migrating-rancher-to-a-new-cluster">Migrating Rancher to a New Cluster<a class="hash-link" href="#migrating-rancher-to-a-new-cluster" title="Direct link to heading">​</a></h2><p>A migration is performed by following <a href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/migrate-rancher-to-new-cluster">these steps.</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="default-storage-location-configuration">Default Storage Location Configuration<a class="hash-link" href="#default-storage-location-configuration" title="Direct link to heading">​</a></h2><p>Configure a storage location where all backups are saved by default. You will have the option to override this with each backup, but will be limited to using an S3-compatible or Minio object store.</p><p>For information on configuring these options, refer to <a href="/v2.5/reference-guides/backup-restore-configuration/storage-configuration">this page.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-valuesyaml-for-the-rancher-backup-helm-chart">Example values.yaml for the rancher-backup Helm Chart<a class="hash-link" href="#example-valuesyaml-for-the-rancher-backup-helm-chart" title="Direct link to heading">​</a></h3><p>The example <a href="/v2.5/reference-guides/backup-restore-configuration/storage-configuration#example-values-yaml-for-the-rancher-backup-helm-chart">values.yaml file</a> can be used to configure the <code>rancher-backup</code> operator when the Helm CLI is used to install it.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.5/pages-for-subheaders/backup-restore-and-disaster-recovery.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-10T07:31:45.000Z">9/10/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/v2.5/how-to-guides/new-user-guides/deploy-apps-across-clusters/multi-cluster-apps"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Multi-cluster Apps</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v2.5/how-to-guides/new-user-guides/backup-restore-and-disaster-recovery/back-up-rancher"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Backing up Rancher</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#changes-in-rancher-v25" class="table-of-contents__link toc-highlight">Changes in Rancher v2.5</a><ul><li><a href="#backup-and-restore-for-rancher-v25-installed-with-docker" class="table-of-contents__link toc-highlight">Backup and Restore for Rancher v2.5 installed with Docker</a></li></ul></li><li><a href="#how-backups-and-restores-work" class="table-of-contents__link toc-highlight">How Backups and Restores Work</a></li><li><a href="#installing-the-rancher-backup-operator" class="table-of-contents__link toc-highlight">Installing the rancher-backup Operator</a><ul><li><a href="#installing-rancher-backup-with-the-rancher-ui" class="table-of-contents__link toc-highlight">Installing rancher-backup with the Rancher UI</a></li><li><a href="#installing-rancher-backup-with-the-helm-cli" class="table-of-contents__link toc-highlight">Installing rancher-backup with the Helm CLI</a></li><li><a href="#rbac" class="table-of-contents__link toc-highlight">RBAC</a></li></ul></li><li><a href="#backing-up-rancher" class="table-of-contents__link toc-highlight">Backing up Rancher</a></li><li><a href="#restoring-rancher" class="table-of-contents__link toc-highlight">Restoring Rancher</a></li><li><a href="#migrating-rancher-to-a-new-cluster" class="table-of-contents__link toc-highlight">Migrating Rancher to a New Cluster</a></li><li><a href="#default-storage-location-configuration" class="table-of-contents__link toc-highlight">Default Storage Location Configuration</a><ul><li><a href="#example-valuesyaml-for-the-rancher-backup-helm-chart" class="table-of-contents__link toc-highlight">Example values.yaml for the rancher-backup Helm Chart</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d2604d48.js"></script>
<script src="/assets/js/main.aa78001f.js"></script>
</body>
</html>
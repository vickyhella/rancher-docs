"use strict";(self.webpackChunkrancher_docs=self.webpackChunkrancher_docs||[]).push([[86080],{3905:(t,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>m});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var s=a.createContext({}),u=function(t){var e=a.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},p=function(t){var e=u(t.components);return a.createElement(s.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},c=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,s=t.parentName,p=l(t,["components","mdxType","originalType","parentName"]),c=u(n),m=r,g=c["".concat(s,".").concat(m)]||c[m]||d[m]||i;return n?a.createElement(g,o(o({ref:e},p),{},{components:n})):a.createElement(g,o({ref:e},p))}));function m(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,o=new Array(i);o[0]=c;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l.mdxType="string"==typeof t?t:r,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},88083:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var a=n(87462),r=(n(67294),n(3905));const i={title:"Skipped and Not Applicable Tests"},o=void 0,l={unversionedId:"explanations/integrations-in-rancher/cis-scans/skipped-and-not-applicable-tests",id:"version-2.5/explanations/integrations-in-rancher/cis-scans/skipped-and-not-applicable-tests",title:"Skipped and Not Applicable Tests",description:"This section lists the tests that are skipped in the permissive test profile for RKE.",source:"@site/versioned_docs/version-2.5/explanations/integrations-in-rancher/cis-scans/skipped-and-not-applicable-tests.md",sourceDirName:"explanations/integrations-in-rancher/cis-scans",slug:"/explanations/integrations-in-rancher/cis-scans/skipped-and-not-applicable-tests",permalink:"/zh/v2.5/explanations/integrations-in-rancher/cis-scans/skipped-and-not-applicable-tests",draft:!1,editUrl:"https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.5/explanations/integrations-in-rancher/cis-scans/skipped-and-not-applicable-tests.md",tags:[],version:"2.5",lastUpdatedAt:1663953084,formattedLastUpdatedAt:"2022\u5e749\u670823\u65e5",frontMatter:{title:"Skipped and Not Applicable Tests"},sidebar:"tutorialSidebar",previous:{title:"Roles-based Access Control",permalink:"/zh/v2.5/explanations/integrations-in-rancher/cis-scans/rbac-for-cis-scans"},next:{title:"Creating a Custom Benchmark Version for Running a Cluster Scan",permalink:"/zh/v2.5/explanations/integrations-in-rancher/cis-scans/custom-benchmark"}},s={},u=[{value:"CIS Benchmark v1.5",id:"cis-benchmark-v15",level:2},{value:"CIS Benchmark v1.5 Skipped Tests",id:"cis-benchmark-v15-skipped-tests",level:3},{value:"CIS Benchmark v1.5 Not Applicable Tests",id:"cis-benchmark-v15-not-applicable-tests",level:3}],p={toc:u};function d(t){let{components:e,...n}=t;return(0,r.kt)("wrapper",(0,a.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This section lists the tests that are skipped in the permissive test profile for RKE."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"All the tests that are skipped and not applicable on this page will be counted as Not Applicable in the v2.5 generated report. The skipped test count will only mention the user-defined skipped tests. This allows user-skipped tests to be distinguished from the tests that are skipped by default in the RKE permissive test profile.")),(0,r.kt)("h2",{id:"cis-benchmark-v15"},"CIS Benchmark v1.5"),(0,r.kt)("h3",{id:"cis-benchmark-v15-skipped-tests"},"CIS Benchmark v1.5 Skipped Tests"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Number"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Reason for Skipping"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.12"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the etcd data directory ownership is set to etcd:etcd (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"A system service account is required for etcd data directory ownership. Refer to Rancher's hardening guide for more details on how to configure this ownership.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.2.6"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the --kubelet-certificate-authority argument is set as appropriate (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"When generating serving certificates, functionality could break in conjunction with hostname overrides which are required for certain cloud providers.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.2.16"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the admission control plugin PodSecurityPolicy is set (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabling Pod Security Policy can cause applications to unexpectedly fail.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.2.33"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the --encryption-provider-config argument is set as appropriate (Manual)"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabling encryption changes how data can be recovered as data is encrypted.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.2.34"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that encryption providers are appropriately configured (Manual)"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabling encryption changes how data can be recovered as data is encrypted.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"4.2.6"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the --protect-kernel-defaults argument is set to true (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"System level configurations are required before provisioning the cluster in order for this argument to be set to true.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"4.2.10"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the--tls-cert-file and --tls-private-key-file arguments are set as appropriate (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"When generating serving certificates, functionality could break in conjunction with hostname overrides which are required for certain cloud providers.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"5.1.5"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that default service accounts are not actively used. (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Kubernetes provides default service accounts to be used.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"5.2.2"),(0,r.kt)("td",{parentName:"tr",align:null},"Minimize the admission of containers wishing to share the host process ID namespace (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabling Pod Security Policy can cause applications to unexpectedly fail.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"5.2.3"),(0,r.kt)("td",{parentName:"tr",align:null},"Minimize the admission of containers wishing to share the host IPC namespace (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabling Pod Security Policy can cause applications to unexpectedly fail.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"5.2.4"),(0,r.kt)("td",{parentName:"tr",align:null},"Minimize the admission of containers wishing to share the host network namespace (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabling Pod Security Policy can cause applications to unexpectedly fail.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"5.2.5"),(0,r.kt)("td",{parentName:"tr",align:null},"Minimize the admission of containers with allowPrivilegeEscalation (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabling Pod Security Policy can cause applications to unexpectedly fail.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"5.3.2"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that all Namespaces have Network Policies defined (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Enabling Network Policies can prevent certain applications from communicating with each other.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"5.6.4"),(0,r.kt)("td",{parentName:"tr",align:null},"The default namespace should not be used (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Kubernetes provides a default namespace.")))),(0,r.kt)("h3",{id:"cis-benchmark-v15-not-applicable-tests"},"CIS Benchmark v1.5 Not Applicable Tests"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Number"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Reason for being not applicable"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.1"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the API server pod specification file permissions are set to 644 or more restrictive (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for kube-apiserver. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.2"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the API server pod specification file ownership is set to root:root (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for kube-apiserver. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.3"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the controller manager pod specification file permissions are set to 644 or more restrictive (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for controller-manager. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.4"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the controller manager pod specification file ownership is set to root:root (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for controller-manager. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.5"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the scheduler pod specification file permissions are set to 644 or more restrictive (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for scheduler. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.6"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the scheduler pod specification file ownership is set to root:root (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for scheduler. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.7"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the etcd pod specification file permissions are set to 644 or more restrictive (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for etcd. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.8"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the etcd pod specification file ownership is set to root:root (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for etcd. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.13"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the admin.conf file permissions are set to 644 or more restrictive (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE does not store the kubernetes default kubeconfig credentials file on the nodes.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.14"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the admin.conf file ownership is set to root:root (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE does not store the kubernetes default kubeconfig credentials file on the nodes.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.15"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the scheduler.conf file permissions are set to 644 or more restrictive (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for scheduler. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.16"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the scheduler.conf file ownership is set to root:root (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for scheduler. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.17"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the controller-manager.conf file permissions are set to 644 or more restrictive (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for controller-manager. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.1.18"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the controller-manager.conf file ownership is set to root:root (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn't require or maintain a configuration file for controller-manager. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"1.3.6"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the RotateKubeletServerCertificate argument is set to true (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE handles certificate rotation directly through RKE.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"4.1.1"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the kubelet service file permissions are set to 644 or more restrictive (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn\u2019t require or maintain a configuration file for the kubelet service. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"4.1.2"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the kubelet service file ownership is set to root:root (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn\u2019t require or maintain a configuration file for the kubelet service. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"4.1.9"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the kubelet configuration file has permissions set to 644 or more restrictive (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn\u2019t require or maintain a configuration file for the kubelet. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"4.1.10"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the kubelet configuration file ownership is set to root:root (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE doesn\u2019t require or maintain a configuration file for the kubelet. All configuration is passed in as arguments at container run time.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"4.2.12"),(0,r.kt)("td",{parentName:"tr",align:null},"Ensure that the RotateKubeletServerCertificate argument is set to true (Automated)"),(0,r.kt)("td",{parentName:"tr",align:null},"Clusters provisioned by RKE handles certificate rotation directly through RKE.")))))}d.isMDXComponent=!0}}]);
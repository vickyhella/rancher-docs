"use strict";(self.webpackChunkrancher_docs=self.webpackChunkrancher_docs||[]).push([[42316],{3905:(e,r,t)=>{t.d(r,{Zo:()=>l,kt:()=>p});var o=t(67294);function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r){if(null==e)return{};var t,o,n=function(e,r){if(null==e)return{};var t,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var u=o.createContext({}),c=function(e){var r=o.useContext(u),t=r;return e&&(t="function"==typeof e?e(r):a(a({},r),e)),t},l=function(e){var r=c(e.components);return o.createElement(u.Provider,{value:r},e.children)},f={inlineCode:"code",wrapper:function(e){var r=e.children;return o.createElement(o.Fragment,{},r)}},d=o.forwardRef((function(e,r){var t=e.components,n=e.mdxType,i=e.originalType,u=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=c(t),p=n,h=d["".concat(u,".").concat(p)]||d[p]||f[p]||i;return t?o.createElement(h,a(a({ref:r},l),{},{components:t})):o.createElement(h,a({ref:r},l))}));function p(e,r){var t=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var i=t.length,a=new Array(i);a[0]=d;var s={};for(var u in r)hasOwnProperty.call(r,u)&&(s[u]=r[u]);s.originalType=e,s.mdxType="string"==typeof e?e:n,a[1]=s;for(var c=2;c<i;c++)a[c]=t[c];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},59108:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>u,contentTitle:()=>a,default:()=>f,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var o=t(87462),n=(t(67294),t(3905));const i={title:"Configuring Microsoft Active Directory Federation Service (SAML)"},a=void 0,s={unversionedId:"pages-for-subheaders/configure-microsoft-ad-federation-service-saml",id:"version-2.0-2.4/pages-for-subheaders/configure-microsoft-ad-federation-service-saml",title:"Configuring Microsoft Active Directory Federation Service (SAML)",description:"Available as of v2.0.7",source:"@site/versioned_docs/version-2.0-2.4/pages-for-subheaders/configure-microsoft-ad-federation-service-saml.md",sourceDirName:"pages-for-subheaders",slug:"/pages-for-subheaders/configure-microsoft-ad-federation-service-saml",permalink:"/zh/v2.0-v2.4/pages-for-subheaders/configure-microsoft-ad-federation-service-saml",draft:!1,editUrl:"https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.0-2.4/pages-for-subheaders/configure-microsoft-ad-federation-service-saml.md",tags:[],version:"2.0-2.4",lastUpdatedAt:1663953084,formattedLastUpdatedAt:"2022\u5e749\u670823\u65e5",frontMatter:{title:"Configuring Microsoft Active Directory Federation Service (SAML)"},sidebar:"tutorialSidebar",previous:{title:"Configuring Okta (SAML)",permalink:"/zh/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-okta-saml"},next:{title:"1. Configuring Microsoft AD FS for Rancher",permalink:"/zh/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/configure-microsoft-ad-federation-service-saml/configure-ms-adfs-for-rancher"}},u={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup Outline",id:"setup-outline",level:2},{value:"Next: Configuring Microsoft AD FS for Rancher",id:"next-configuring-microsoft-ad-fs-for-rancher",level:3}],l={toc:c};function f(e){let{components:r,...t}=e;return(0,n.kt)("wrapper",(0,o.Z)({},l,t,{components:r,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"Available as of v2.0.7")),(0,n.kt)("p",null,"If your organization uses Microsoft Active Directory Federation Services (AD FS) for user authentication, you can configure Rancher to allow your users to log in using their AD FS credentials."),(0,n.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,n.kt)("p",null,"You must have Rancher installed."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Obtain your Rancher Server URL. During AD FS configuration, substitute this URL for the ",(0,n.kt)("inlineCode",{parentName:"li"},"<RANCHER_SERVER>")," placeholder."),(0,n.kt)("li",{parentName:"ul"},"You must have a global administrator account on your Rancher installation.")),(0,n.kt)("p",null,"You must have a ",(0,n.kt)("a",{parentName:"p",href:"https://docs.microsoft.com/en-us/windows-server/identity/active-directory-federation-services"},"Microsoft AD FS Server")," configured."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Obtain your AD FS Server IP/DNS name. During AD FS configuration, substitute this IP/DNS name for the ",(0,n.kt)("inlineCode",{parentName:"li"},"<AD_SERVER>")," placeholder."),(0,n.kt)("li",{parentName:"ul"},"You must have access to add ",(0,n.kt)("a",{parentName:"li",href:"https://docs.microsoft.com/en-us/windows-server/identity/ad-fs/operations/create-a-relying-party-trust"},"Relying Party Trusts")," on your AD FS Server.")),(0,n.kt)("h2",{id:"setup-outline"},"Setup Outline"),(0,n.kt)("p",null,"Setting up Microsoft AD FS with Rancher Server requires configuring AD FS on your Active Directory server, and configuring Rancher to utilize your AD FS server. The following pages serve as guides for setting up Microsoft AD FS authentication on your Rancher installation."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/zh/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/configure-microsoft-ad-federation-service-saml/configure-ms-adfs-for-rancher"},"1. Configuring Microsoft AD FS for Rancher")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"/zh/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/configure-microsoft-ad-federation-service-saml/configure-rancher-for-ms-adfs"},"2. Configuring Rancher for Microsoft AD FS"))),(0,n.kt)("admonition",{title:"SAML Provider Caveats:",type:"note"},(0,n.kt)("ul",{parentName:"admonition"},(0,n.kt)("li",{parentName:"ul"},"SAML Protocol does not support search or lookup for users or groups. Therefore, there is no validation on users or groups when adding them to Rancher."),(0,n.kt)("li",{parentName:"ul"},"When adding users, the exact user IDs (i.e. ",(0,n.kt)("inlineCode",{parentName:"li"},"UID Field"),") must be entered correctly. As you type the user ID, there will be no search for other  user IDs that may match."),(0,n.kt)("li",{parentName:"ul"},"When adding groups, you must select the group from the drop-down that is next to the text box. Rancher assumes that any input from the text box is a user."),(0,n.kt)("li",{parentName:"ul"},"The group drop-down shows only the groups that you are a member of. You will not be able to add groups that you are not a member of."))),(0,n.kt)("h3",{id:"next-configuring-microsoft-ad-fs-for-rancher"},(0,n.kt)("a",{parentName:"h3",href:"/zh/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/configure-microsoft-ad-federation-service-saml/configure-ms-adfs-for-rancher"},"Next: Configuring Microsoft AD FS for Rancher")))}f.isMDXComponent=!0}}]);
<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="Rancher Manager" href="/opensearch.xml"><title data-rh="true">RKE Cluster Configuration Reference | Rancher Manager</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://docs.ranchermanager.rancher.io//reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="RKE Cluster Configuration Reference | Rancher Manager"><meta data-rh="true" name="description" content="When Rancher installs Kubernetes, it uses RKE or RKE2 as the Kubernetes distribution."><meta data-rh="true" property="og:description" content="When Rancher installs Kubernetes, it uses RKE or RKE2 as the Kubernetes distribution."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="http://docs.ranchermanager.rancher.io//reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.9543bcfd.css">
<link rel="preload" href="/assets/js/runtime~main.217a7f9f.js" as="script">
<link rel="preload" href="/assets/js/main.00d8b9dc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/">v2.6</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration">v2.6</a></li><li><a class="dropdown__link" href="/v2.5/reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration">v2.5</a></li><li><a class="dropdown__link" href="/v2.0-v2.4/reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__docs navbar__link--active" href="/">Docs</a><a href="https://github.com/rancher/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github btn btn-secondary icon-github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Rancher 2.6</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/how-to-guides">How-to Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/reference-guides">Reference Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/best-practices">Best Practices</a><button aria-label="Toggle the collapsible sidebar category &#x27;Best Practices&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/rancher-manager-architecture">Rancher Manager Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rancher Manager Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/pages-for-subheaders/cluster-configuration">Cluster Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Cluster Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/pages-for-subheaders/rancher-server-configuration">Rancher Server Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rancher Server Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration">RKE Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration">RKE2 Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference-guides/cluster-configuration/rancher-server-configuration/k3s-cluster-configuration">K3s Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference-guides/cluster-configuration/rancher-server-configuration/eks-cluster-configuration">EKS Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference-guides/cluster-configuration/rancher-server-configuration/aks-cluster-configuration">AKS Cluster Configuration Reference</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/gke-cluster-configuration">GKE Cluster Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;GKE Cluster Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/use-existing-nodes">Use Existing Nodes</a><button aria-label="Toggle the collapsible sidebar category &#x27;Use Existing Nodes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/reference-guides/cluster-configuration/rancher-server-configuration/sync-clusters">Syncing</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/downstream-cluster-configuration">Downstream Cluster Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Downstream Cluster Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/single-node-rancher-in-docker">Single-Node Rancher in Docker</a><button aria-label="Toggle the collapsible sidebar category &#x27;Single-Node Rancher in Docker&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/installation-references">Installation References</a><button aria-label="Toggle the collapsible sidebar category &#x27;Installation References&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/amazon-eks-permissions">Amazon EKS Permissions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Amazon EKS Permissions&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/backup-restore-configuration">Backup &amp; Restore Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Backup &amp; Restore Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/configure-openldap">Configure OpenLDAP</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configure OpenLDAP&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference-guides/kubernetes-concepts">Kubernetes Concepts</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/monitoring-v2-configuration">Monitoring V2 Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Monitoring V2 Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/prometheus-federator">Prometheus Federator</a><button aria-label="Toggle the collapsible sidebar category &#x27;Prometheus Federator&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/user-settings">User Settings</a><button aria-label="Toggle the collapsible sidebar category &#x27;User Settings&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/cli-with-rancher">CLI with Rancher</a><button aria-label="Toggle the collapsible sidebar category &#x27;CLI with Rancher&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/about-the-api">About the API</a><button aria-label="Toggle the collapsible sidebar category &#x27;About the API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference-guides/rancher-cluster-tools">Tools for Logging, Monitoring, and Visibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference-guides/rancher-project-tools">Tools for Logging, Monitoring, and Visibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference-guides/system-tools">System Tools</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/reference-guides/rke1-template-example-yaml">Example YAML</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/pipelines">Pipelines</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pipelines&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/pages-for-subheaders/rancher-security">Rancher Security</a><button aria-label="Toggle the collapsible sidebar category &#x27;Rancher Security&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/explanations">Explanations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Explanations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/faq">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contribute-to-rancher">Contributing to Rancher</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/reference-guides"><span itemprop="name">Reference Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/pages-for-subheaders/cluster-configuration"><span itemprop="name">Cluster Configuration</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/pages-for-subheaders/rancher-server-configuration"><span itemprop="name">Rancher Server Configuration</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">RKE Cluster Configuration Reference</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v2.6</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>RKE Cluster Configuration Reference</h1></header><p>When Rancher installs Kubernetes, it uses <a href="/pages-for-subheaders/launch-kubernetes-with-rancher">RKE</a> or <a href="https://docs.rke2.io/" target="_blank" rel="noopener noreferrer">RKE2</a> as the Kubernetes distribution.</p><p>This section covers the configuration options that are available in Rancher for a new or existing RKE Kubernetes cluster.</p><ul><li><a href="#overview">Overview</a></li><li><a href="#editing-clusters-with-a-form-in-the-rancher-ui">Editing Clusters with a Form in the Rancher UI</a></li><li><a href="#editing-clusters-with-yaml">Editing Clusters with YAML</a></li><li><a href="#configuration-options-in-the-rancher-ui">Configuration Options in the Rancher UI</a><ul><li><a href="#kubernetes-version">Kubernetes Version</a></li><li><a href="#network-provider">Network Provider</a></li><li><a href="#project-network-isolation">Project Network Isolation</a></li><li><a href="#kubernetes-cloud-providers">Kubernetes Cloud Providers</a></li><li><a href="#private-registries">Private Registries</a></li><li><a href="#authorized-cluster-endpoint">Authorized Cluster Endpoint</a></li><li><a href="#node-pools">Node Pools</a></li><li><a href="#nginx-ingress">NGINX Ingress</a></li><li><a href="#metrics-server-monitoring">Metrics Server Monitoring</a></li><li><a href="#pod-security-policy-support">Pod Security Policy Support</a></li><li><a href="#docker-version-on-nodes">Docker Version on Nodes</a></li><li><a href="#docker-root-directory">Docker Root Directory</a></li><li><a href="#default-pod-security-policy">Default Pod Security Policy</a></li><li><a href="#node-port-range">Node Port Range</a></li><li><a href="#recurring-etcd-snapshots">Recurring etcd Snapshots</a></li><li><a href="#agent-environment-variables">Agent Environment Variables</a></li><li><a href="#updating-ingress-nginx">Updating ingress-nginx</a></li></ul></li><li><a href="#rke-cluster-config-file-reference">RKE Cluster Config File Reference</a><ul><li><a href="#config-file-structure-in-rancher">Config File Structure in Rancher</a></li><li><a href="#default-dns-provider">Default DNS Provider</a></li></ul></li><li><a href="#rancher-specific-parameters-in-yaml">Rancher Specific Parameters in YAML</a><ul><li><a href="#docker_root_dir">docker_root_dir</a></li><li><a href="#enable_cluster_monitoring">enable_cluster_monitoring</a></li><li><a href="#enable_network_policy">enable_network_policy</a></li><li><a href="#local_cluster_auth_endpoint">local_cluster_auth_endpoint</a></li><li><a href="#custom-network-plug-in">Custom Network Plug-in</a></li></ul></li></ul><h1>Overview</h1><p>You can configure the Kubernetes options one of two ways:</p><ul><li><a href="#rancher-ui-options">Rancher UI</a>: Use the Rancher UI to select options that are commonly customized when setting up a Kubernetes cluster.</li><li><a href="#cluster-config-file">Cluster Config File</a>: Instead of using the Rancher UI to choose Kubernetes options for the cluster, advanced users can create an RKE config file. Using a config file allows you to set any of the options available in an RKE installation, except for system_images configuration, by specifying them in YAML.</li></ul><p>The RKE cluster config options are nested under the <code>rancher_kubernetes_engine_config</code> directive. For more information, see the section about the <a href="#cluster-config-file">cluster config file.</a></p><p>In <a href="/pages-for-subheaders/launch-kubernetes-with-rancher">clusters launched by RKE</a>, you can edit any of the remaining options that follow.</p><p>For an example of RKE config file syntax, see the <a href="https://rancher.com/docs/rke/latest/en/example-yamls/" target="_blank" rel="noopener noreferrer">RKE documentation</a>.</p><p>The forms in the Rancher UI don&#x27;t include all advanced options for configuring RKE. For the complete reference of configurable options for RKE Kubernetes clusters in YAML, see the <a href="https://rancher.com/docs/rke/latest/en/config-options/" target="_blank" rel="noopener noreferrer">RKE documentation.</a></p><h1>Editing Clusters with a Form in the Rancher UI</h1><p>To edit your cluster,</p><ol><li>In the upper left corner, click <strong>☰ &gt; Cluster Management</strong>.</li><li>Go to the cluster you want to configure and click <strong>⋮ &gt; Edit Config</strong>.</li></ol><h1>Editing Clusters with YAML</h1><p>Instead of using the Rancher UI to choose Kubernetes options for the cluster, advanced users can create an RKE config file. Using a config file allows you to set any of the options available in an RKE installation, except for system_images configuration, by specifying them in YAML.</p><p>RKE clusters (also called RKE1 clusters) are edited differently than RKE2 and K3s clusters.</p><p>To edit an RKE config file directly from the Rancher UI,</p><ol><li>Click <strong>☰ &gt; Cluster Management</strong>.</li><li>Go to the RKE cluster you want to configure. Click and click <strong>⋮ &gt; Edit Config</strong>. This take you to the RKE configuration form. Note: Because cluster provisioning changed in Rancher 2.6, the <strong>⋮ &gt; Edit as YAML</strong> can be used for configuring RKE2 clusters, but it can&#x27;t be used for editing RKE1 configuration.</li><li>In the configuration form, scroll down and click <strong>Edit as YAML</strong>.</li><li>Edit the RKE options under the <code>rancher_kubernetes_engine_config</code> directive.</li></ol><h1>Configuration Options in the Rancher UI</h1><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Some advanced configuration options are not exposed in the Rancher UI forms, but they can be enabled by editing the RKE cluster configuration file in YAML. For the complete reference of configurable options for RKE Kubernetes clusters in YAML, see the <a href="https://rancher.com/docs/rke/latest/en/config-options/" target="_blank" rel="noopener noreferrer">RKE documentation.</a></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-version">Kubernetes Version<a class="hash-link" href="#kubernetes-version" title="Direct link to heading">​</a></h3><p>The version of Kubernetes installed on your cluster nodes. Rancher packages its own version of Kubernetes based on <a href="https://github.com/rancher/hyperkube" target="_blank" rel="noopener noreferrer">hyperkube</a>.</p><p>For more detail, see <a href="/getting-started/installation-and-upgrade/upgrade-and-roll-back-kubernetes">Upgrading Kubernetes</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-provider">Network Provider<a class="hash-link" href="#network-provider" title="Direct link to heading">​</a></h3><p>The <a href="https://kubernetes.io/docs/concepts/cluster-administration/networking/" target="_blank" rel="noopener noreferrer">Network Provider</a> that the cluster uses. For more details on the different networking providers, please view our <a href="/faq/container-network-interface-providers">Networking FAQ</a>.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>After you launch the cluster, you cannot change your network provider. Therefore, choose which network provider you want to use carefully, as Kubernetes doesn&#x27;t allow switching between network providers. Once a cluster is created with a network provider, changing network providers would require you  tear down the entire cluster and all its applications.</p></div></div><p>Out of the box, Rancher is compatible with the following network providers:</p><ul><li><a href="https://github.com/projectcalico/canal" target="_blank" rel="noopener noreferrer">Canal</a></li><li><a href="https://github.com/coreos/flannel#flannel" target="_blank" rel="noopener noreferrer">Flannel</a></li><li><a href="https://docs.projectcalico.org/v3.11/introduction/" target="_blank" rel="noopener noreferrer">Calico</a></li><li><a href="https://github.com/weaveworks/weave" target="_blank" rel="noopener noreferrer">Weave</a></li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Notes on Weave:</h5></div><div class="admonition-content"><p>When Weave is selected as network provider, Rancher will automatically enable encryption by generating a random password. If you want to specify the password manually, please see how to configure your cluster using a <a href="#rke-cluster-config-file-reference">Config File</a> and the <a href="https://rancher.com/docs/rke/latest/en/config-options/add-ons/network-plugins/#weave-network-plug-in-options" target="_blank" rel="noopener noreferrer">Weave Network Plug-in Options</a>.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="project-network-isolation">Project Network Isolation<a class="hash-link" href="#project-network-isolation" title="Direct link to heading">​</a></h3><p>If your network provider allows project network isolation, you can choose whether to enable or disable inter-project communication.</p><p>Project network isolation is available if you are using any RKE network plugin that supports the enforcement of Kubernetes network policies, such as Canal or the Cisco ACI plugin.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-cloud-providers">Kubernetes Cloud Providers<a class="hash-link" href="#kubernetes-cloud-providers" title="Direct link to heading">​</a></h3><p>You can configure a <a href="/pages-for-subheaders/set-up-cloud-providers">Kubernetes cloud provider</a>. If you want to use dynamically provisioned <a href="/pages-for-subheaders/create-kubernetes-persistent-storage">volumes and storage</a> in Kubernetes, typically you must select the specific cloud provider in order to use it. For example, if you want to use Amazon EBS, you would need to select the <code>aws</code> cloud provider.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If the cloud provider you want to use is not listed as an option, you will need to use the <a href="#cluster-config-file">config file option</a> to configure the cloud provider. Please reference the <a href="https://rancher.com/docs/rke/latest/en/config-options/cloud-providers/" target="_blank" rel="noopener noreferrer">RKE cloud provider documentation</a> on how to configure the cloud provider.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="private-registries">Private Registries<a class="hash-link" href="#private-registries" title="Direct link to heading">​</a></h3><p>The cluster-level private registry configuration is only used for provisioning clusters.</p><p>There are two main ways to set up private registries in Rancher: by setting up the <a href="/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/global-default-private-registry">global default registry</a> through the <strong>Settings</strong> tab in the global view, and by setting up a private registry in the advanced options in the cluster-level settings. The global default registry is intended to be used for air-gapped setups, for registries that do not require credentials. The cluster-level private registry is intended to be used in all setups in which the private registry requires credentials.</p><p>If your private registry requires credentials, you need to pass the credentials to Rancher by editing the cluster options for each cluster that needs to pull images from the registry.</p><p>The private registry configuration option tells Rancher where to pull the <a href="https://rancher.com/docs/rke/latest/en/config-options/system-images/" target="_blank" rel="noopener noreferrer">system images</a> or <a href="https://rancher.com/docs/rke/latest/en/config-options/add-ons/" target="_blank" rel="noopener noreferrer">addon images</a> that will be used in your cluster.</p><ul><li><strong>System images</strong> are components needed to maintain the Kubernetes cluster.</li><li><strong>Add-ons</strong> are used to deploy several cluster components, including network plug-ins, the ingress controller, the DNS provider, or the metrics server.</li></ul><p>For more information on setting up a private registry for components applied during the provisioning of the cluster, see the <a href="https://rancher.com/docs/rke/latest/en/config-options/private-registries/" target="_blank" rel="noopener noreferrer">RKE documentation on private registries</a>.</p><p>Rancher v2.6 introduced the ability to configure <a href="https://rancher.com/docs/rke/latest/en/config-options/private-registries/#amazon-elastic-container-registry-ecr-private-registry-setup" target="_blank" rel="noopener noreferrer">ECR registries for RKE clusters</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="authorized-cluster-endpoint">Authorized Cluster Endpoint<a class="hash-link" href="#authorized-cluster-endpoint" title="Direct link to heading">​</a></h3><p>Authorized Cluster Endpoint can be used to directly access the Kubernetes API server, without requiring communication through Rancher.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>The authorized cluster endpoint only works on Rancher-launched Kubernetes clusters. In other words, it only works in clusters where Rancher <a href="/pages-for-subheaders/rancher-manager-architecture#tools-for-provisioning-kubernetes-clusters">used RKE</a> to provision the cluster. It is not available for clusters in a hosted Kubernetes provider, such as Amazon&#x27;s EKS.</p></div></div><p>This is enabled by default in Rancher-launched Kubernetes clusters, using the IP of the node with the <code>controlplane</code> role and the default Kubernetes self signed certificates.</p><p>For more detail on how an authorized cluster endpoint works and why it is used, refer to the <a href="/pages-for-subheaders/rancher-manager-architecture#4-authorized-cluster-endpoint">architecture section.</a></p><p>We recommend using a load balancer with the authorized cluster endpoint. For details, refer to the <a href="/reference-guides/rancher-manager-architecture/architecture-recommendations#architecture-for-an-authorized-cluster-endpoint">recommended architecture section.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-pools">Node Pools<a class="hash-link" href="#node-pools" title="Direct link to heading">​</a></h3><p>For information on using the Rancher UI to set up node pools in an RKE cluster, refer to <a href="/pages-for-subheaders/use-new-nodes-in-an-infra-provider">this page.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nginx-ingress">NGINX Ingress<a class="hash-link" href="#nginx-ingress" title="Direct link to heading">​</a></h3><p>If you want to publish your applications in a high-availability configuration, and you&#x27;re hosting your nodes with a cloud-provider that doesn&#x27;t have a native load-balancing feature, enable this option to use NGINX Ingress within the cluster.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="metrics-server-monitoring">Metrics Server Monitoring<a class="hash-link" href="#metrics-server-monitoring" title="Direct link to heading">​</a></h3><p>Option to enable or disable <a href="https://rancher.com/docs/rke/latest/en/config-options/add-ons/metrics-server/" target="_blank" rel="noopener noreferrer">Metrics Server</a>.</p><p>Each cloud provider capable of launching a cluster using RKE can collect metrics and monitor for your cluster nodes. Enable this option to view your node metrics from your cloud provider&#x27;s portal.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pod-security-policy-support">Pod Security Policy Support<a class="hash-link" href="#pod-security-policy-support" title="Direct link to heading">​</a></h3><p>Enables <a href="/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/create-pod-security-policies">pod security policies</a> for the cluster. After enabling this option, choose a policy using the <strong>Default Pod Security Policy</strong> drop-down.</p><p>You must have an existing Pod Security Policy configured before you can use this option.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-version-on-nodes">Docker Version on Nodes<a class="hash-link" href="#docker-version-on-nodes" title="Direct link to heading">​</a></h3><p>Configures whether nodes are allowed to run versions of Docker that Rancher doesn&#x27;t officially support.</p><p>If you choose to require a supported Docker version, Rancher will stop pods from running on nodes that don&#x27;t have a supported Docker version installed.</p><p>For details on which Docker versions were tested with each Rancher version, refer to the <a href="https://rancher.com/support-maintenance-terms/" target="_blank" rel="noopener noreferrer">support maintenance terms.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-root-directory">Docker Root Directory<a class="hash-link" href="#docker-root-directory" title="Direct link to heading">​</a></h3><p>If the nodes you are adding to the cluster have Docker configured with a non-default Docker Root Directory (default is <code>/var/lib/docker</code>),  specify the correct Docker Root Directory in this option.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-pod-security-policy">Default Pod Security Policy<a class="hash-link" href="#default-pod-security-policy" title="Direct link to heading">​</a></h3><p>If you enable <strong>Pod Security Policy Support</strong>, use this drop-down to choose the pod security policy that&#x27;s applied to the cluster.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="node-port-range">Node Port Range<a class="hash-link" href="#node-port-range" title="Direct link to heading">​</a></h3><p>Option to change the range of ports that can be used for <a href="https://kubernetes.io/docs/concepts/services-networking/service/#nodeport" target="_blank" rel="noopener noreferrer">NodePort services</a>. Default is <code>30000-32767</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="recurring-etcd-snapshots">Recurring etcd Snapshots<a class="hash-link" href="#recurring-etcd-snapshots" title="Direct link to heading">​</a></h3><p>Option to enable or disable <a href="https://rancher.com/docs/rke/latest/en/etcd-snapshots/#etcd-recurring-snapshots" target="_blank" rel="noopener noreferrer">recurring etcd snapshots</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="agent-environment-variables">Agent Environment Variables<a class="hash-link" href="#agent-environment-variables" title="Direct link to heading">​</a></h3><p>Option to set environment variables for <a href="/how-to-guides/new-user-guides/kubernetes-clusters-in-rancher-setup/launch-kubernetes-with-rancher/about-rancher-agents">rancher agents</a>. The environment variables can be set using key value pairs. If rancher agent requires use of proxy to communicate with Rancher server, <code>HTTP_PROXY</code>, <code>HTTPS_PROXY</code> and <code>NO_PROXY</code> environment variables can be set using agent environment variables.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="updating-ingress-nginx">Updating ingress-nginx<a class="hash-link" href="#updating-ingress-nginx" title="Direct link to heading">​</a></h3><p>Clusters that were created before Kubernetes 1.16 will have an <code>ingress-nginx</code> <code>updateStrategy</code> of <code>OnDelete</code>. Clusters that were created with Kubernetes 1.16 or newer will have <code>RollingUpdate</code>.</p><p>If the <code>updateStrategy</code> of <code>ingress-nginx</code> is <code>OnDelete</code>, you will need to delete these pods to get the correct version for your deployment.</p><h1>RKE Cluster Config File Reference</h1><p>Instead of using the Rancher UI to choose Kubernetes options for the cluster, advanced users can create an RKE config file. Using a config file allows you to set any of the <a href="https://rancher.com/docs/rke/latest/en/config-options/" target="_blank" rel="noopener noreferrer">options available</a> in an RKE installation, except for <code>system_images</code> configuration. The <code>system_images</code> option is not supported when creating a cluster with the Rancher UI or API.</p><p>For the complete reference for configurable options for RKE Kubernetes clusters in YAML, see the <a href="https://rancher.com/docs/rke/latest/en/config-options/" target="_blank" rel="noopener noreferrer">RKE documentation.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="config-file-structure-in-rancher">Config File Structure in Rancher<a class="hash-link" href="#config-file-structure-in-rancher" title="Direct link to heading">​</a></h3><p>RKE (Rancher Kubernetes Engine) is the tool that Rancher uses to provision Kubernetes clusters. Rancher&#x27;s cluster config files used to have the same structure as <a href="https://rancher.com/docs/rke/latest/en/example-yamls/" target="_blank" rel="noopener noreferrer">RKE config files,</a> but the structure changed so that in Rancher, RKE cluster config items are separated from non-RKE config items. Therefore, configuration for your cluster needs to be nested under the <code>rancher_kubernetes_engine_config</code> directive in the cluster config file. Cluster config files created with earlier versions of Rancher will need to be updated for this format. An example cluster config file is included below.</p><details id="v2.3.0-cluster-config-file" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Example Cluster Config File</summary><div><div class="collapsibleContent_i85q"><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Cluster Config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">docker_root_dir</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> /var/lib/docker</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">enable_cluster_alerting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">enable_cluster_monitoring</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">enable_network_policy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">local_cluster_auth_endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Rancher Config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">rancher_kubernetes_engine_config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># Your RKE template config goes here.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">addon_job_timeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">authentication</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">strategy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> x509</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ignore_docker_version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># # Currently only nginx ingress provider is supported.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># # To disable ingress controller, set `provider: none`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># # To enable ingress on specific nodes, use the node_selector, eg:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#    provider: nginx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#    node_selector:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      app: ingress</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ingress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">provider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> nginx</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">kubernetes_version</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> v1.15.3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">rancher3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">monitoring</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">provider</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> metrics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">server</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#   If you are using calico on AWS</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#    network:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      plugin: calico</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      calico_network_provider:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#        cloud_provider: aws</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># # To specify flannel interface</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#    network:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      plugin: flannel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      flannel_network_provider:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      iface: eth1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># # To specify flannel interface for canal plugin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#    network:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      plugin: canal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      canal_network_provider:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#        iface: eth1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">network</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">options</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">flannel_backend_type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> vxlan</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">plugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> canal</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#    services:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      kube-api:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#        service_cluster_ip_range: 10.43.0.0/16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      kube-controller:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#        cluster_cidr: 10.42.0.0/16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#        service_cluster_ip_range: 10.43.0.0/16</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#      kubelet:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#        cluster_domain: cluster.local</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#        cluster_dns_server: 10.43.0.10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">etcd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">backup_config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">interval_hours</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">12</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">retention</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">6</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">safe_timestamp</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">creation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 12h</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">extra_args</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">election-timeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token key atrule">heartbeat-interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">500</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">gid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">retention</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 72h</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">snapshot</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">uid</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">kube_api</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">always_pull_images</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">pod_security_policy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">service_node_port_range</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 30000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token number" style="color:rgb(247, 140, 108)">32767</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ssh_agent_auth</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">windows_prefered_cluster</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details><h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-dns-provider">Default DNS provider<a class="hash-link" href="#default-dns-provider" title="Direct link to heading">​</a></h3><p>The table below indicates what DNS provider is deployed by default. See <a href="https://rancher.com/docs/rke/latest/en/config-options/add-ons/dns/" target="_blank" rel="noopener noreferrer">RKE documentation on DNS provider</a> for more information how to configure a different DNS provider. CoreDNS can only be used on Kubernetes v1.12.0 and higher.</p><table><thead><tr><th>Rancher version</th><th>Kubernetes version</th><th>Default DNS provider</th></tr></thead><tbody><tr><td>v2.2.5 and higher</td><td>v1.14.0 and higher</td><td>CoreDNS</td></tr><tr><td>v2.2.5 and higher</td><td>v1.13.x and lower</td><td>kube-dns</td></tr><tr><td>v2.2.4 and lower</td><td>any</td><td>kube-dns</td></tr></tbody></table><h1>Rancher Specific Parameters in YAML</h1><p>Besides the RKE config file options, there are also Rancher specific settings that can be configured in the Config File (YAML):</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker_root_dir">docker_root_dir<a class="hash-link" href="#docker_root_dir" title="Direct link to heading">​</a></h3><p>See <a href="#docker-root-directory">Docker Root Directory</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable_cluster_monitoring">enable_cluster_monitoring<a class="hash-link" href="#enable_cluster_monitoring" title="Direct link to heading">​</a></h3><p>Option to enable or disable <a href="/pages-for-subheaders/monitoring-and-alerting">Cluster Monitoring</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable_network_policy">enable_network_policy<a class="hash-link" href="#enable_network_policy" title="Direct link to heading">​</a></h3><p>Option to enable or disable Project Network Isolation.</p><p>Project network isolation is available if you are using any RKE network plugin that supports the enforcement of Kubernetes network policies, such as Canal or the Cisco ACI plugin.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="local_cluster_auth_endpoint">local_cluster_auth_endpoint<a class="hash-link" href="#local_cluster_auth_endpoint" title="Direct link to heading">​</a></h3><p>See <a href="#authorized-cluster-endpoint">Authorized Cluster Endpoint</a>.</p><p>Example:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">local_cluster_auth_endpoint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">fqdn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;FQDN&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">ca_certs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">|</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">BEGIN CERTIFICATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">END CERTIFICATE</span><span class="token punctuation" style="color:rgb(199, 146, 234)">---</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-network-plug-in">Custom Network Plug-in<a class="hash-link" href="#custom-network-plug-in" title="Direct link to heading">​</a></h3><p>You can add a custom network plug-in by using the <a href="https://rancher.com/docs/rke/latest/en/config-options/add-ons/user-defined-add-ons/" target="_blank" rel="noopener noreferrer">user-defined add-on functionality</a> of RKE. You define any add-on that you want deployed after the Kubernetes cluster is deployed.</p><p>There are two ways that you can specify an add-on:</p><ul><li><a href="https://rancher.com/docs/rke/latest/en/config-options/add-ons/user-defined-add-ons/#in-line-add-ons" target="_blank" rel="noopener noreferrer">In-line Add-ons</a></li><li><a href="https://rancher.com/docs/rke/latest/en/config-options/add-ons/user-defined-add-ons/#referencing-yaml-files-for-add-ons" target="_blank" rel="noopener noreferrer">Referencing YAML Files for Add-ons</a></li></ul><p>For an example of how to configure a custom network plug-in by editing the <code>cluster.yml</code>, refer to the <a href="https://rancher.com/docs/rke/latest/en/config-options/add-ons/network-plugins/custom-network-plugin-example" target="_blank" rel="noopener noreferrer">RKE documentation.</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/docs/reference-guides/cluster-configuration/rancher-server-configuration/rke1-cluster-configuration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-08T22:35:34.000Z">9/8/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/pages-for-subheaders/rancher-server-configuration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Rancher Server Configuration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/reference-guides/cluster-configuration/rancher-server-configuration/rke2-cluster-configuration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">RKE2 Cluster Configuration Reference</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#kubernetes-version" class="table-of-contents__link toc-highlight">Kubernetes Version</a></li><li><a href="#network-provider" class="table-of-contents__link toc-highlight">Network Provider</a></li><li><a href="#project-network-isolation" class="table-of-contents__link toc-highlight">Project Network Isolation</a></li><li><a href="#kubernetes-cloud-providers" class="table-of-contents__link toc-highlight">Kubernetes Cloud Providers</a></li><li><a href="#private-registries" class="table-of-contents__link toc-highlight">Private Registries</a></li><li><a href="#authorized-cluster-endpoint" class="table-of-contents__link toc-highlight">Authorized Cluster Endpoint</a></li><li><a href="#node-pools" class="table-of-contents__link toc-highlight">Node Pools</a></li><li><a href="#nginx-ingress" class="table-of-contents__link toc-highlight">NGINX Ingress</a></li><li><a href="#metrics-server-monitoring" class="table-of-contents__link toc-highlight">Metrics Server Monitoring</a></li><li><a href="#pod-security-policy-support" class="table-of-contents__link toc-highlight">Pod Security Policy Support</a></li><li><a href="#docker-version-on-nodes" class="table-of-contents__link toc-highlight">Docker Version on Nodes</a></li><li><a href="#docker-root-directory" class="table-of-contents__link toc-highlight">Docker Root Directory</a></li><li><a href="#default-pod-security-policy" class="table-of-contents__link toc-highlight">Default Pod Security Policy</a></li><li><a href="#node-port-range" class="table-of-contents__link toc-highlight">Node Port Range</a></li><li><a href="#recurring-etcd-snapshots" class="table-of-contents__link toc-highlight">Recurring etcd Snapshots</a></li><li><a href="#agent-environment-variables" class="table-of-contents__link toc-highlight">Agent Environment Variables</a></li><li><a href="#updating-ingress-nginx" class="table-of-contents__link toc-highlight">Updating ingress-nginx</a></li><li><a href="#config-file-structure-in-rancher" class="table-of-contents__link toc-highlight">Config File Structure in Rancher</a></li><li><a href="#default-dns-provider" class="table-of-contents__link toc-highlight">Default DNS provider</a></li><li><a href="#docker_root_dir" class="table-of-contents__link toc-highlight">docker_root_dir</a></li><li><a href="#enable_cluster_monitoring" class="table-of-contents__link toc-highlight">enable_cluster_monitoring</a></li><li><a href="#enable_network_policy" class="table-of-contents__link toc-highlight">enable_network_policy</a></li><li><a href="#local_cluster_auth_endpoint" class="table-of-contents__link toc-highlight">local_cluster_auth_endpoint</a></li><li><a href="#custom-network-plug-in" class="table-of-contents__link toc-highlight">Custom Network Plug-in</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.217a7f9f.js"></script>
<script src="/assets/js/main.00d8b9dc.js"></script>
</body>
</html>
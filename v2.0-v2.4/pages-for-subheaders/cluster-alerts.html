<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.0-2.4 plugin-docs plugin-id-default docs-doc-id-pages-for-subheaders/cluster-alerts">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="Rancher Manager" href="/opensearch.xml"><title data-rh="true">Cluster Alerts | Rancher Manager</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://docs.ranchermanager.rancher.io//v2.0-v2.4/pages-for-subheaders/cluster-alerts"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.0-2.4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.0-2.4"><meta data-rh="true" name="docsearch:version" content="2.0-2.4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.0-2.4"><meta data-rh="true" property="og:title" content="Cluster Alerts | Rancher Manager"><meta data-rh="true" name="description" content="To keep your clusters and applications healthy and driving your organizational productivity forward, you need to stay informed of events occurring in your clusters and projects, both planned and unplanned. When an event occurs, your alert is triggered, and you are sent a notification. You can then, if necessary, follow up with corrective actions."><meta data-rh="true" property="og:description" content="To keep your clusters and applications healthy and driving your organizational productivity forward, you need to stay informed of events occurring in your clusters and projects, both planned and unplanned. When an event occurs, your alert is triggered, and you are sent a notification. You can then, if necessary, follow up with corrective actions."><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/pages-for-subheaders/cluster-alerts"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/pages-for-subheaders/cluster-alerts" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/pages-for-subheaders/cluster-alerts" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.31d3122a.css">
<link rel="preload" href="/assets/js/runtime~main.d2604d48.js" as="script">
<link rel="preload" href="/assets/js/main.aa78001f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/v2.0-v2.4">v2.0-v2.4</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/">v2.6</a></li><li><a class="dropdown__link" href="/v2.5">v2.5</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v2.0-v2.4/pages-for-subheaders/cluster-alerts">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__docs navbar__link--active" href="/v2.0-v2.4">Docs</a><a href="https://github.com/rancher/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github btn btn-secondary icon-github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.0-v2.4">Rancher 2.0-2.4</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/how-to-guides">How-to Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/reference-guides">Reference Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/v2.0-v2.4/explanations">Explanations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Explanations&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/integrations-in-rancher">Integrations in Rancher</a><button aria-label="Toggle the collapsible sidebar category &#x27;Integrations in Rancher&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/cis-scans">CIS Scans</a><button aria-label="Toggle the collapsible sidebar category &#x27;CIS Scans&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/istio">Istio</a><button aria-label="Toggle the collapsible sidebar category &#x27;Istio&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/cluster-logging">Logging</a><button aria-label="Toggle the collapsible sidebar category &#x27;Logging&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/cluster-alerts">Alerting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Alerting&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/explanations/integrations-in-rancher/cluster-alerts/default-alerts">Default Alerts for Cluster Monitoring</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/cluster-monitoring">Monitoring</a><button aria-label="Toggle the collapsible sidebar category &#x27;Monitoring&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/explanations/integrations-in-rancher/opa-gatekeeper">OPA Gatekeeper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/explanations/integrations-in-rancher/notifiers">Notifiers</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/faq">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.0-v2.4/contribute-to-rancher">Contributing to Rancher</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Rancher Manager<!-- --> <b>v2.0-v2.4</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/">latest version</a></b> (<!-- -->v2.6<!-- -->).</div></div><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/explanations"><span itemprop="name">Explanations</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/pages-for-subheaders/integrations-in-rancher"><span itemprop="name">Integrations in Rancher</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Alerting</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v2.0-v2.4</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Cluster Alerts</h1></header><p>To keep your clusters and applications healthy and driving your organizational productivity forward, you need to stay informed of events occurring in your clusters and projects, both planned and unplanned. When an event occurs, your alert is triggered, and you are sent a notification. You can then, if necessary, follow up with corrective actions.</p><h1>About Alerts</h1><p>Notifiers and alerts are built on top of the <a href="https://prometheus.io/docs/alerting/alertmanager/" target="_blank" rel="noopener noreferrer">Prometheus Alertmanager</a>. Leveraging these tools, Rancher can notify <a href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles#cluster-roles">cluster owners</a> and <a href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles#project-roles">project owners</a> of events they need to address.</p><p>Before you can receive alerts, you must configure one or more notifier in Rancher.</p><p>When you create a cluster, some alert rules are predefined. You can receive these alerts if you configure a <a href="/v2.0-v2.4/explanations/integrations-in-rancher/notifiers">notifier</a> for them.</p><p>For details about what triggers the predefined alerts, refer to the <a href="/v2.0-v2.4/explanations/integrations-in-rancher/cluster-alerts/default-alerts">documentation on default alerts.</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="alert-event-examples">Alert Event Examples<a class="hash-link" href="#alert-event-examples" title="Direct link to heading">​</a></h3><p>Some examples of alert events are:</p><ul><li>A Kubernetes master component entering an unhealthy state.</li><li>A node or workload error occurring.</li><li>A scheduled deployment taking place as planned.</li><li>A node&#x27;s hardware resources becoming overstressed.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="alerts-triggered-by-prometheus-queries">Alerts Triggered by Prometheus Queries<a class="hash-link" href="#alerts-triggered-by-prometheus-queries" title="Direct link to heading">​</a></h3><p>When you edit an alert rule, you will have the opportunity to configure the alert to be triggered based on a Prometheus expression. For examples of expressions, refer to <a href="/v2.0-v2.4/explanations/integrations-in-rancher/cluster-monitoring/expression">this page.</a></p><p>Monitoring must be <a href="/v2.0-v2.4/pages-for-subheaders/cluster-monitoring">enabled</a> before you can trigger alerts with custom Prometheus queries or expressions.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="urgency-levels">Urgency Levels<a class="hash-link" href="#urgency-levels" title="Direct link to heading">​</a></h3><p>You can set an urgency level for each alert. This urgency appears in the notification you receive, helping you to prioritize your response actions. For example, if you have an alert configured to inform you of a routine deployment, no action is required. These alerts can be assigned a low priority level. However, if a deployment fails, it can critically impact your organization, and you need to react quickly. Assign these alerts a high priority level.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="scope-of-alerts">Scope of Alerts<a class="hash-link" href="#scope-of-alerts" title="Direct link to heading">​</a></h3><p>The scope for alerts can be set at either the cluster level or <a href="/v2.0-v2.4/reference-guides/rancher-project-tools/project-alerts">project level</a>.</p><p>At the cluster level, Rancher monitors components in your Kubernetes cluster, and sends you alerts related to:</p><ul><li>The state of your nodes.</li><li>The system services that manage your Kubernetes cluster.</li><li>The resource events from specific system services.</li><li>The Prometheus expression cross the thresholds</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="managing-cluster-alerts">Managing Cluster Alerts<a class="hash-link" href="#managing-cluster-alerts" title="Direct link to heading">​</a></h3><p>After you set up cluster alerts, you can manage each alert object. To manage alerts, browse to the cluster containing the alerts, and then select <strong>Tools &gt; Alerts</strong> that you want to manage. You can:</p><ul><li>Deactivate/Reactive alerts</li><li>Edit alert settings</li><li>Delete unnecessary alerts</li><li>Mute firing alerts</li><li>Unmute muted alerts</li></ul><h1>Adding Cluster Alerts</h1><p>As a <a href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/cluster-and-project-roles#cluster-roles">cluster owner</a>, you can configure Rancher to send you alerts for cluster events.</p><blockquote><p><strong>Prerequisite:</strong> Before you can receive cluster alerts, you must <a href="/v2.0-v2.4/explanations/integrations-in-rancher/notifiers">add a notifier</a>.</p></blockquote><ol><li><p>From the <strong>Global</strong> view, navigate to the cluster that you want to configure cluster alerts for. Select <strong>Tools &gt; Alerts</strong>. Then click <strong>Add Alert Group</strong>.</p></li><li><p>Enter a <strong>Name</strong> for the alert that describes its purpose, you could group alert rules for the different purpose.</p></li><li><p>Based on the type of alert you want to create, refer to the <a href="#cluster-alert-configuration">cluster alert configuration section.</a></p></li><li><p>Continue adding more <strong>Alert Rule</strong> to the group.</p></li><li><p>Finally, choose the <a href="/v2.0-v2.4/explanations/integrations-in-rancher/notifiers">notifiers</a> to send the alerts to.</p><ul><li>You can set up multiple notifiers.</li><li>You can change notifier recipients on the fly.</li></ul></li><li><p>Click <strong>Create.</strong></p></li></ol><p><strong>Result:</strong> Your alert is configured. A notification is sent when the alert is triggered.</p><h1>Cluster Alert Configuration</h1><ul><li><a href="#system-service-alerts">System Service Alerts</a></li><li><a href="#resource-event-alerts">Resource Event Alerts</a></li><li><a href="#node-alerts">Node Alerts</a></li><li><a href="#node-selector-alerts">Node Selector Alerts</a></li><li><a href="#cis-scan-alerts">CIS Scan Alerts</a></li><li><a href="#metric-expression-alerts">Metric Expression Alerts</a></li></ul><h1>System Service Alerts</h1><p>This alert type monitor for events that affect one of the Kubernetes master components, regardless of the node it occurs on.</p><p>Each of the below sections corresponds to a part of the alert rule configuration section in the Rancher UI.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-a">When a<a class="hash-link" href="#when-a" title="Direct link to heading">​</a></h3><p>Select the <strong>System Services</strong> option, and then select an option from the dropdown:</p><ul><li><a href="https://kubernetes.io/docs/concepts/overview/components/#kube-controller-manager" target="_blank" rel="noopener noreferrer">controller-manager</a></li><li><a href="https://kubernetes.io/docs/concepts/overview/components/#etcd" target="_blank" rel="noopener noreferrer">etcd</a></li><li><a href="https://kubernetes.io/docs/concepts/overview/components/#kube-scheduler" target="_blank" rel="noopener noreferrer">scheduler</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="is">Is<a class="hash-link" href="#is" title="Direct link to heading">​</a></h3><p>The alert will be triggered when the selected Kubernetes master component is unhealthy.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-a">Send a<a class="hash-link" href="#send-a" title="Direct link to heading">​</a></h3><p>Select the urgency level of the alert. The options are:</p><ul><li><p><strong>Critical</strong>: Most urgent</p></li><li><p><strong>Warning</strong>: Normal urgency</p></li><li><p><strong>Info</strong>: Least urgent</p><p>Select the urgency level based on the importance of the service and how many nodes fill the role within your cluster. For example, if you&#x27;re making an alert for the <code>etcd</code> service, select <strong>Critical</strong>. If you&#x27;re making an alert for redundant schedulers, <strong>Warning</strong> is more appropriate.</p></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-options">Advanced Options<a class="hash-link" href="#advanced-options" title="Direct link to heading">​</a></h3><p>By default, the below options will apply to all alert rules within the group. You can disable these advanced options when configuring a specific rule.</p><ul><li><strong>Group Wait Time</strong>: How long to wait to buffer alerts of the same group before sending initially, default to 30 seconds.</li><li><strong>Group Interval Time</strong>: How long to wait before sending an alert that has been added to a group which contains already fired alerts, default to 30 seconds.</li><li><strong>Repeat Wait Time</strong>: How long to wait before re-sending a given alert that has already been sent, default to 1 hour.</li></ul><h1>Resource Event Alerts</h1><p>This alert type monitors for specific events that are thrown from a resource type.</p><p>Each of the below sections corresponds to a part of the alert rule configuration section in the Rancher UI.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-a-1">When a<a class="hash-link" href="#when-a-1" title="Direct link to heading">​</a></h3><p>Choose the type of resource event that triggers an alert. The options are:</p><ul><li><strong>Normal</strong>: triggers an alert when any standard resource event occurs.</li><li><strong>Warning</strong>: triggers an alert when unexpected resource events occur.</li></ul><p>Select a resource type from the <strong>Choose a Resource</strong> drop-down that you want to trigger an alert.</p><ul><li><a href="https://kubernetes.io/docs/concepts/workloads/controllers/daemonset/" target="_blank" rel="noopener noreferrer">DaemonSet</a></li><li><a href="https://kubernetes.io/docs/concepts/workloads/controllers/deployment/" target="_blank" rel="noopener noreferrer">Deployment</a></li><li><a href="https://kubernetes.io/docs/concepts/architecture/nodes/" target="_blank" rel="noopener noreferrer">Node</a></li><li><a href="https://kubernetes.io/docs/concepts/workloads/pods/pod/" target="_blank" rel="noopener noreferrer">Pod</a></li><li><a href="https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/" target="_blank" rel="noopener noreferrer">StatefulSet</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-a-1">Send a<a class="hash-link" href="#send-a-1" title="Direct link to heading">​</a></h3><p>Select the urgency level of the alert.</p><ul><li><strong>Critical</strong>: Most urgent</li><li><strong>Warning</strong>: Normal urgency</li><li><strong>Info</strong>: Least urgent</li></ul><p>Select the urgency level of the alert by considering factors such as how often the event occurs or its importance. For example:</p><ul><li>If you set a normal alert for pods, you&#x27;re likely to receive alerts often, and individual pods usually self-heal, so select an urgency of <strong>Info</strong>.</li><li>If you set a warning alert for StatefulSets, it&#x27;s very likely to impact operations, so select an urgency of <strong>Critical</strong>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-options-1">Advanced Options<a class="hash-link" href="#advanced-options-1" title="Direct link to heading">​</a></h3><p>By default, the below options will apply to all alert rules within the group. You can disable these advanced options when configuring a specific rule.</p><ul><li><strong>Group Wait Time</strong>: How long to wait to buffer alerts of the same group before sending initially, default to 30 seconds.</li><li><strong>Group Interval Time</strong>: How long to wait before sending an alert that has been added to a group which contains already fired alerts, default to 30 seconds.</li><li><strong>Repeat Wait Time</strong>: How long to wait before re-sending a given alert that has already been sent, default to 1 hour.</li></ul><h1>Node Alerts</h1><p>This alert type monitors for events that occur on a specific node.</p><p>Each of the below sections corresponds to a part of the alert rule configuration section in the Rancher UI.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-a-2">When a<a class="hash-link" href="#when-a-2" title="Direct link to heading">​</a></h3><p>Select the <strong>Node</strong> option, and then make a selection from the <strong>Choose a Node</strong> drop-down.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="is-1">Is<a class="hash-link" href="#is-1" title="Direct link to heading">​</a></h3><p>Choose an event to trigger the alert.</p><ul><li><strong>Not Ready</strong>: Sends you an alert when the node is unresponsive.</li><li><strong>CPU usage over</strong>: Sends you an alert when the node raises above an entered percentage of its processing allocation.</li><li><strong>Mem usage over</strong>: Sends you an alert when the node raises above an entered percentage of its memory allocation.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-a-2">Send a<a class="hash-link" href="#send-a-2" title="Direct link to heading">​</a></h3><p>Select the urgency level of the alert.</p><ul><li><strong>Critical</strong>: Most urgent</li><li><strong>Warning</strong>: Normal urgency</li><li><strong>Info</strong>: Least urgent</li></ul><p>Select the urgency level of the alert based on its impact on operations. For example, an alert triggered when a node&#x27;s CPU raises above 60% deems an urgency of <strong>Info</strong>, but a node that is <strong>Not Ready</strong> deems an urgency of <strong>Critical</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-options-2">Advanced Options<a class="hash-link" href="#advanced-options-2" title="Direct link to heading">​</a></h3><p>By default, the below options will apply to all alert rules within the group. You can disable these advanced options when configuring a specific rule.</p><ul><li><strong>Group Wait Time</strong>: How long to wait to buffer alerts of the same group before sending initially, default to 30 seconds.</li><li><strong>Group Interval Time</strong>: How long to wait before sending an alert that has been added to a group which contains already fired alerts, default to 30 seconds.</li><li><strong>Repeat Wait Time</strong>: How long to wait before re-sending a given alert that has already been sent, default to 1 hour.</li></ul><h1>Node Selector Alerts</h1><p>This alert type monitors for events that occur on any node on marked with a label. For more information, see the Kubernetes documentation for <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" target="_blank" rel="noopener noreferrer">Labels</a>.</p><p>Each of the below sections corresponds to a part of the alert rule configuration section in the Rancher UI.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-a-3">When a<a class="hash-link" href="#when-a-3" title="Direct link to heading">​</a></h3><p>Select the <strong>Node Selector</strong> option, and then click <strong>Add Selector</strong> to enter a key value pair for a label. This label should be applied to one or more of your nodes. Add as many selectors as you&#x27;d like.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="is-2">Is<a class="hash-link" href="#is-2" title="Direct link to heading">​</a></h3><p>Choose an event to trigger the alert.</p><ul><li><strong>Not Ready</strong>: Sends you an alert when selected nodes are unresponsive.</li><li><strong>CPU usage over</strong>: Sends you an alert when selected nodes raise above an entered percentage of processing allocation.</li><li><strong>Mem usage over</strong>: Sends you an alert when selected nodes raise above an entered percentage of memory allocation.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-a-3">Send a<a class="hash-link" href="#send-a-3" title="Direct link to heading">​</a></h3><p>Select the urgency level of the alert.</p><ul><li><strong>Critical</strong>: Most urgent</li><li><strong>Warning</strong>: Normal urgency</li><li><strong>Info</strong>: Least urgent</li></ul><p>Select the urgency level of the alert based on its impact on operations. For example, an alert triggered when a node&#x27;s CPU raises above 60% deems an urgency of <strong>Info</strong>, but a node that is <strong>Not Ready</strong> deems an urgency of <strong>Critical</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-options-3">Advanced Options<a class="hash-link" href="#advanced-options-3" title="Direct link to heading">​</a></h3><p>By default, the below options will apply to all alert rules within the group. You can disable these advanced options when configuring a specific rule.</p><ul><li><strong>Group Wait Time</strong>: How long to wait to buffer alerts of the same group before sending initially, default to 30 seconds.</li><li><strong>Group Interval Time</strong>: How long to wait before sending an alert that has been added to a group which contains already fired alerts, default to 30 seconds.</li><li><strong>Repeat Wait Time</strong>: How long to wait before re-sending a given alert that has already been sent, default to 1 hour.</li></ul><h1>CIS Scan Alerts</h1><p><em>Available as of v2.4.0</em></p><p>This alert type is triggered based on the results of a CIS scan.</p><p>Each of the below sections corresponds to a part of the alert rule configuration section in the Rancher UI.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-a-4">When a<a class="hash-link" href="#when-a-4" title="Direct link to heading">​</a></h3><p>Select <strong>CIS Scan.</strong></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="is-3">Is<a class="hash-link" href="#is-3" title="Direct link to heading">​</a></h3><p>Choose an event to trigger the alert:</p><ul><li>Completed Scan</li><li>Has Failure</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-a-4">Send a<a class="hash-link" href="#send-a-4" title="Direct link to heading">​</a></h3><p>Select the urgency level of the alert.</p><ul><li><strong>Critical</strong>: Most urgent</li><li><strong>Warning</strong>: Normal urgency</li><li><strong>Info</strong>: Least urgent</li></ul><p>Select the urgency level of the alert based on its impact on operations. For example, an alert triggered when a node&#x27;s CPU raises above 60% deems an urgency of <strong>Info</strong>, but a node that is <strong>Not Ready</strong> deems an urgency of <strong>Critical</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-options-4">Advanced Options<a class="hash-link" href="#advanced-options-4" title="Direct link to heading">​</a></h3><p>By default, the below options will apply to all alert rules within the group. You can disable these advanced options when configuring a specific rule.</p><ul><li><strong>Group Wait Time</strong>: How long to wait to buffer alerts of the same group before sending initially, default to 30 seconds.</li><li><strong>Group Interval Time</strong>: How long to wait before sending an alert that has been added to a group which contains already fired alerts, default to 30 seconds.</li><li><strong>Repeat Wait Time</strong>: How long to wait before re-sending a given alert that has already been sent, default to 1 hour.</li></ul><h1>Metric Expression Alerts</h1><p>This alert type monitors for the overload from Prometheus expression querying, it would be available after you enable monitoring.</p><p>Each of the below sections corresponds to a part of the alert rule configuration section in the Rancher UI.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-a-5">When a<a class="hash-link" href="#when-a-5" title="Direct link to heading">​</a></h3><p>Input or select an <strong>Expression</strong>, the dropdown shows the original metrics from Prometheus, including:</p><ul><li><a href="https://github.com/prometheus/node_exporter" target="_blank" rel="noopener noreferrer"><strong>Node</strong></a></li><li><a href="https://github.com/google/cadvisor" target="_blank" rel="noopener noreferrer"><strong>Container</strong></a></li><li><a href="https://etcd.io/docs/v3.4.0/op-guide/monitoring/" target="_blank" rel="noopener noreferrer"><strong>ETCD</strong></a></li><li><a href="https://github.com/kubernetes/metrics" target="_blank" rel="noopener noreferrer"><strong>Kubernetes Components</strong></a></li><li><a href="https://github.com/kubernetes/kube-state-metrics" target="_blank" rel="noopener noreferrer"><strong>Kubernetes Resources</strong></a></li><li><a href="https://docs.fluentd.org/v1.0/articles/monitoring-prometheus" target="_blank" rel="noopener noreferrer"><strong>Fluentd</strong></a> (supported by <a href="/v2.0-v2.4/pages-for-subheaders/cluster-logging">Logging</a>)</li><li><a href="http://docs.grafana.org/administration/metrics/" target="_blank" rel="noopener noreferrer"><strong>Cluster Level Grafana</strong></a></li><li><strong>Cluster Level Prometheus</strong></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="is-4">Is<a class="hash-link" href="#is-4" title="Direct link to heading">​</a></h3><p>Choose a comparison:</p><ul><li><strong>Equal</strong>: Trigger alert when expression value equal to the threshold.</li><li><strong>Not Equal</strong>: Trigger alert when expression value not equal to the threshold.</li><li><strong>Greater Than</strong>: Trigger alert when expression value greater than to threshold.</li><li><strong>Less Than</strong>: Trigger alert when expression value equal or less than the threshold.</li><li><strong>Greater or Equal</strong>: Trigger alert when expression value greater to equal to the threshold.</li><li><strong>Less or Equal</strong>: Trigger alert when expression value less or equal to the threshold.</li></ul><p>If applicable, choose a comparison value or a threshold for the alert to be triggered.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="for">For<a class="hash-link" href="#for" title="Direct link to heading">​</a></h3><p>Select a duration for a trigger alert when the expression value crosses the threshold longer than the configured duration.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="send-a-5">Send a<a class="hash-link" href="#send-a-5" title="Direct link to heading">​</a></h3><p>Select the urgency level of the alert.</p><ul><li><strong>Critical</strong>: Most urgent</li><li><strong>Warning</strong>: Normal urgency</li><li><strong>Info</strong>: Least urgent</li></ul><p>Select the urgency level of the alert based on its impact on operations. For example, an alert triggered when a node&#x27;s load expression <code>sum(node_load5)  / count(node_cpu_seconds_total{mode=&quot;system&quot;})</code> raises above 0.6 deems an urgency of <strong>Info</strong>, but 1 deems an urgency of <strong>Critical</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-options-5">Advanced Options<a class="hash-link" href="#advanced-options-5" title="Direct link to heading">​</a></h3><p>By default, the below options will apply to all alert rules within the group. You can disable these advanced options when configuring a specific rule.</p><ul><li><strong>Group Wait Time</strong>: How long to wait to buffer alerts of the same group before sending initially, default to 30 seconds.</li><li><strong>Group Interval Time</strong>: How long to wait before sending an alert that has been added to a group which contains already fired alerts, default to 30 seconds.</li><li><strong>Repeat Wait Time</strong>: How long to wait before re-sending a given alert that has already been sent, default to 1 hour.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.0-2.4/pages-for-subheaders/cluster-alerts.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-10T07:31:45.000Z">9/10/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/v2.0-v2.4/explanations/integrations-in-rancher/cluster-logging/syslog"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Syslog</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v2.0-v2.4/explanations/integrations-in-rancher/cluster-alerts/default-alerts"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Default Alerts for Cluster Monitoring</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#alert-event-examples" class="table-of-contents__link toc-highlight">Alert Event Examples</a></li><li><a href="#alerts-triggered-by-prometheus-queries" class="table-of-contents__link toc-highlight">Alerts Triggered by Prometheus Queries</a></li><li><a href="#urgency-levels" class="table-of-contents__link toc-highlight">Urgency Levels</a></li><li><a href="#scope-of-alerts" class="table-of-contents__link toc-highlight">Scope of Alerts</a></li><li><a href="#managing-cluster-alerts" class="table-of-contents__link toc-highlight">Managing Cluster Alerts</a></li><li><a href="#when-a" class="table-of-contents__link toc-highlight">When a</a></li><li><a href="#is" class="table-of-contents__link toc-highlight">Is</a></li><li><a href="#send-a" class="table-of-contents__link toc-highlight">Send a</a></li><li><a href="#advanced-options" class="table-of-contents__link toc-highlight">Advanced Options</a></li><li><a href="#when-a-1" class="table-of-contents__link toc-highlight">When a</a></li><li><a href="#send-a-1" class="table-of-contents__link toc-highlight">Send a</a></li><li><a href="#advanced-options-1" class="table-of-contents__link toc-highlight">Advanced Options</a></li><li><a href="#when-a-2" class="table-of-contents__link toc-highlight">When a</a></li><li><a href="#is-1" class="table-of-contents__link toc-highlight">Is</a></li><li><a href="#send-a-2" class="table-of-contents__link toc-highlight">Send a</a></li><li><a href="#advanced-options-2" class="table-of-contents__link toc-highlight">Advanced Options</a></li><li><a href="#when-a-3" class="table-of-contents__link toc-highlight">When a</a></li><li><a href="#is-2" class="table-of-contents__link toc-highlight">Is</a></li><li><a href="#send-a-3" class="table-of-contents__link toc-highlight">Send a</a></li><li><a href="#advanced-options-3" class="table-of-contents__link toc-highlight">Advanced Options</a></li><li><a href="#when-a-4" class="table-of-contents__link toc-highlight">When a</a></li><li><a href="#is-3" class="table-of-contents__link toc-highlight">Is</a></li><li><a href="#send-a-4" class="table-of-contents__link toc-highlight">Send a</a></li><li><a href="#advanced-options-4" class="table-of-contents__link toc-highlight">Advanced Options</a></li><li><a href="#when-a-5" class="table-of-contents__link toc-highlight">When a</a></li><li><a href="#is-4" class="table-of-contents__link toc-highlight">Is</a></li><li><a href="#for" class="table-of-contents__link toc-highlight">For</a></li><li><a href="#send-a-5" class="table-of-contents__link toc-highlight">Send a</a></li><li><a href="#advanced-options-5" class="table-of-contents__link toc-highlight">Advanced Options</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d2604d48.js"></script>
<script src="/assets/js/main.aa78001f.js"></script>
</body>
</html>
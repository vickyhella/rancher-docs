<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.0-2.4 plugin-docs plugin-id-default docs-doc-id-how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-kubectl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="Rancher Manager" href="/opensearch.xml"><title data-rh="true">Managing HPAs with kubectl | Rancher Manager</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-kubectl"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.0-2.4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.0-2.4"><meta data-rh="true" name="docsearch:version" content="2.0-2.4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.0-2.4"><meta data-rh="true" property="og:title" content="Managing HPAs with kubectl | Rancher Manager"><meta data-rh="true" name="description" content="This section describes HPA management with kubectl. This document has instructions for how to:"><meta data-rh="true" property="og:description" content="This section describes HPA management with kubectl. This document has instructions for how to:"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-kubectl"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-kubectl" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-kubectl" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.31d3122a.css">
<link rel="preload" href="/assets/js/runtime~main.d2604d48.js" as="script">
<link rel="preload" href="/assets/js/main.aa78001f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/v2.0-v2.4">v2.0-v2.4</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-kubectl">v2.6</a></li><li><a class="dropdown__link" href="/v2.5/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-kubectl">v2.5</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-kubectl">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__docs navbar__link--active" href="/v2.0-v2.4">Docs</a><a href="https://github.com/rancher/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github btn btn-secondary icon-github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.0-v2.4">Rancher 2.0-2.4</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/v2.0-v2.4/how-to-guides">How-to Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/new-user-guides">New User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;New User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/kubernetes-cluster-setup">Kubernetes Cluster Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes Cluster Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/infrastructure-setup">Infrastructure Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Infrastructure Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/kubernetes-clusters-in-rancher-setup">Kubernetes Clusters in Rancher Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes Clusters in Rancher Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/kubernetes-resources-setup">Kubernetes Resources Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes Resources Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/workloads-and-pods">Workloads and Pods</a><button aria-label="Toggle the collapsible sidebar category &#x27;Workloads and Pods&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/horizontal-pod-autoscaler">Horizontal Pod Autoscaler</a><button aria-label="Toggle the collapsible sidebar category &#x27;Horizontal Pod Autoscaler&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/hpa-for-rancher-before-2.0.7">Manual HPA Installation for Clusters Created Before Rancher v2.0.7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/about-hpas">Background Information on HPAs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-ui">Managing HPAs with the Rancher UI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-kubectl">Managing HPAs with kubectl</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/test-hpas-with-kubectl">Testing HPAs with kubectl</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/load-balancer-and-ingress-controller">Load Balancer and Ingress Controller</a><button aria-label="Toggle the collapsible sidebar category &#x27;Load Balancer and Ingress Controller&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/create-services">Service Discovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/encrypt-http-communication">Encrypting HTTP Communication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/configmaps">ConfigMaps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/secrets">Secrets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/kubernetes-and-docker-registries">Kubernetes Registry and Docker Registry</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/helm-charts-in-rancher">Helm Charts in Rancher</a><button aria-label="Toggle the collapsible sidebar category &#x27;Helm Charts in Rancher&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/deploy-apps-across-clusters">Deploying Applications across Clusters</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/backup-restore-and-disaster-recovery">Backup, Restore, and Disaster Recovery</a><button aria-label="Toggle the collapsible sidebar category &#x27;Backup, Restore, and Disaster Recovery&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/migrate-from-v1.6-v2.x">Migrating from v1.6 to v2.x</a><button aria-label="Toggle the collapsible sidebar category &#x27;Migrating from v1.6 to v2.x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/advanced-user-guides">Advanced User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/reference-guides">Reference Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/explanations">Explanations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Explanations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/faq">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.0-v2.4/contribute-to-rancher">Contributing to Rancher</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Rancher Manager<!-- --> <b>v2.0-v2.4</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-kubectl">latest version</a></b> (<!-- -->v2.6<!-- -->).</div></div><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/how-to-guides"><span itemprop="name">How-to Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/pages-for-subheaders/new-user-guides"><span itemprop="name">New User Guides</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/pages-for-subheaders/kubernetes-resources-setup"><span itemprop="name">Kubernetes Resources Setup</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/pages-for-subheaders/horizontal-pod-autoscaler"><span itemprop="name">Horizontal Pod Autoscaler</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Managing HPAs with kubectl</span><meta itemprop="position" content="5"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v2.0-v2.4</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Managing HPAs with kubectl</h1></header><p>This section describes HPA management with <code>kubectl</code>. This document has instructions for how to:</p><ul><li>Create an HPA</li><li>Get information on HPAs</li><li>Delete an HPA</li><li>Configure your HPAs to scale with CPU or memory utilization</li><li>Configure your HPAs to scale using custom metrics, if you use a third-party tool such as Prometheus for metrics</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="note-for-rancher-v23x">Note For Rancher v2.3.x<a class="hash-link" href="#note-for-rancher-v23x" title="Direct link to heading">​</a></h3><p>In Rancher v2.3.x, you can create, view, and delete HPAs from the Rancher UI. You can also configure them to scale based on CPU or memory usage from the Rancher UI. For more information, refer to <a href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-ui">Managing HPAs with the Rancher UI</a>. For scaling HPAs based on other metrics than CPU or memory, you still need <code>kubectl</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="note-for-rancher-before-v207">Note For Rancher Before v2.0.7<a class="hash-link" href="#note-for-rancher-before-v207" title="Direct link to heading">​</a></h3><p>Clusters created with older versions of Rancher don&#x27;t automatically have all the requirements to create an HPA. To install an HPA on these clusters, refer to <a href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/hpa-for-rancher-before-2.0.7">Manual HPA Installation for Clusters Created Before Rancher v2.0.7</a>.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="basic-kubectl-command-for-managing-hpas">Basic kubectl Command for Managing HPAs<a class="hash-link" href="#basic-kubectl-command-for-managing-hpas" title="Direct link to heading">​</a></h5><p>If you have an HPA manifest file, you can create, manage, and delete HPAs using <code>kubectl</code>:</p><ul><li><p>Creating HPA</p><ul><li><p>With manifest: <code>kubectl create -f &lt;HPA_MANIFEST&gt;</code></p></li><li><p>Without manifest (Just support CPU): <code>kubectl autoscale deployment hello-world --min=2 --max=5 --cpu-percent=50</code></p></li></ul></li><li><p>Getting HPA info</p><ul><li><p>Basic: <code>kubectl get hpa hello-world</code></p></li><li><p>Detailed description: <code>kubectl describe hpa hello-world</code></p></li></ul></li><li><p>Deleting HPA</p><ul><li><code>kubectl delete hpa hello-world</code></li></ul></li></ul><h5 class="anchor anchorWithStickyNavbar_LWe7" id="hpa-manifest-definition-example">HPA Manifest Definition Example<a class="hash-link" href="#hpa-manifest-definition-example" title="Direct link to heading">​</a></h5><p>The HPA manifest is the config file used for managing an HPA with <code>kubectl</code>.</p><p>The following snippet demonstrates use of different directives in an HPA manifest. See the list below the sample to understand the purpose of each directive.</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> autoscaling/v2beta1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> HorizontalPodAutoscaler</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">metadata</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> hello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">world</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">spec</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">scaleTargetRef</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">apiVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> extensions/v1beta1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">kind</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Deployment</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> hello</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">world</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">minReplicas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">maxReplicas</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">metrics</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Resource</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">resource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> cpu</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">targetAverageUtilization</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">50</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">type</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Resource</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">resource</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> memory</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token key atrule">targetAverageValue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 100Mi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><table><thead><tr><th>Directive</th><th>Description</th></tr></thead><tbody><tr><td><code>apiVersion: autoscaling/v2beta1</code></td><td>The version of the Kubernetes <code>autoscaling</code> API group in use. This example manifest uses the beta version, so scaling by CPU and memory is enabled.</td></tr><tr><td><code>name: hello-world</code></td><td>Indicates that HPA is performing autoscaling for the <code>hello-word</code> deployment.</td></tr><tr><td><code>minReplicas: 1</code></td><td>Indicates that the minimum number of replicas running can&#x27;t go below 1.</td></tr><tr><td><code>maxReplicas: 10</code></td><td>Indicates the maximum number of replicas in the deployment can&#x27;t go above 10.</td></tr><tr><td><code>targetAverageUtilization: 50</code></td><td>Indicates the deployment will scale pods up when the average running pod uses more than 50% of its requested CPU.</td></tr><tr><td><code>targetAverageValue: 100Mi</code></td><td>Indicates the deployment will scale pods up when the average running pod uses more that 100Mi of memory.</td></tr></tbody></table><br><h5 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-hpa-to-scale-using-resource-metrics-cpu-and-memory">Configuring HPA to Scale Using Resource Metrics (CPU and Memory)<a class="hash-link" href="#configuring-hpa-to-scale-using-resource-metrics-cpu-and-memory" title="Direct link to heading">​</a></h5><p>Clusters created in Rancher v2.0.7 and higher have all the requirements needed (metrics-server and Kubernetes cluster configuration) to use Horizontal Pod Autoscaler. Run the following commands to check if metrics are available in your installation:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl top nodes</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">NAME                              CPU(cores)   CPU%      MEMORY(bytes)   MEMORY%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">node-controlplane   196m         9%        1623Mi          42%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">node-etcd           80m          4%        1090Mi          28%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">node-worker         64m          3%        1146Mi          29%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl -n kube-system top pods</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">NAME                                   CPU(cores)   MEMORY(bytes)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">canal-pgldr                            18m          46Mi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">canal-vhkgr                            20m          45Mi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">canal-x5q5v                            17m          37Mi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">canal-xknnz                            20m          37Mi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kube-dns-7588d5b5f5-298j2              0m           22Mi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kube-dns-autoscaler-5db9bbb766-t24hw   0m           5Mi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">metrics-server-97bc649d5-jxrlt         0m           12Mi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ kubectl -n kube-system logs -l k8s-app=metrics-server</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">I1002 12:55:32.172841       1 heapster.go:71] /metrics-server --source=kubernetes.summary_api:https://kubernetes.default.svc?kubeletHttps=true&amp;kubeletPort=10250&amp;useServiceAccount=true&amp;insecure=true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">I1002 12:55:32.172994       1 heapster.go:72] Metrics Server version v0.2.1</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">I1002 12:55:32.173378       1 configs.go:61] Using Kubernetes client with master &quot;https://kubernetes.default.svc&quot; and version</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">I1002 12:55:32.173401       1 configs.go:62] Using kubelet port 10250</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">I1002 12:55:32.173946       1 heapster.go:128] Starting with Metric Sink</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">I1002 12:55:32.592703       1 serving.go:308] Generated self-signed cert (apiserver.local.config/certificates/apiserver.crt, apiserver.local.config/certificates/apiserver.key)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">I1002 12:55:32.925630       1 heapster.go:101] Starting Heapster API server...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[restful] 2018/10/02 12:55:32 log.go:33: [restful/swagger] listing is available at https:///swaggerapi</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">[restful] 2018/10/02 12:55:32 log.go:33: [restful/swagger] https:///swaggerui/ is mapped to folder /swagger-ui/</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">I1002 12:55:32.928597       1 serve.go:85] Serving securely on 0.0.0.0:443</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you have created your cluster in Rancher v2.0.6 or before, please refer to the manual installation.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-hpa-to-scale-using-custom-metrics-with-prometheus">Configuring HPA to Scale Using Custom Metrics with Prometheus<a class="hash-link" href="#configuring-hpa-to-scale-using-custom-metrics-with-prometheus" title="Direct link to heading">​</a></h5><p>You can configure HPA to autoscale based on custom metrics provided by third-party software. The most common use case for autoscaling using third-party software is based on application-level metrics (i.e., HTTP requests per second). HPA uses the <code>custom.metrics.k8s.io</code> API to consume these metrics. This API is enabled by deploying a custom metrics adapter for the metrics collection solution.</p><p>For this example, we are going to use <a href="https://prometheus.io/" target="_blank" rel="noopener noreferrer">Prometheus</a>. We are beginning with the following assumptions:</p><ul><li>Prometheus is deployed in the cluster.</li><li>Prometheus is configured correctly and collecting proper metrics from pods, nodes, namespaces, etc.</li><li>Prometheus is exposed at the following URL and port: <code>http://prometheus.mycompany.io:80</code></li></ul><p>Prometheus is available for deployment in the Rancher v2.0 catalog. Deploy it from Rancher catalog if it isn&#x27;t already running in your cluster.</p><p>For HPA to use custom metrics from Prometheus, package <a href="https://github.com/DirectXMan12/k8s-prometheus-adapter" target="_blank" rel="noopener noreferrer">k8s-prometheus-adapter</a> is required in the <code>kube-system</code> namespace of your cluster. To install <code>k8s-prometheus-adapter</code>, we are using the Helm chart available at <a href="https://github.com/banzaicloud/banzai-charts" target="_blank" rel="noopener noreferrer">banzai-charts</a>.</p><ol><li><p>Initialize Helm in your cluster.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># kubectl -n kube-system create serviceaccount tiller</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl create clusterrolebinding tiller --clusterrole cluster-admin --serviceaccount=kube-system:tiller</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">helm init --service-account tiller</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Clone the <code>banzai-charts</code> repo from GitHub:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># git clone https://github.com/banzaicloud/banzai-charts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Install the <code>prometheus-adapter</code> chart, specifying the Prometheus URL and port number.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># helm install --name prometheus-adapter banzai-charts/prometheus-adapter --set prometheus.url=&quot;http://prometheus.mycompany.io&quot;,prometheus.port=&quot;80&quot; --namespace kube-system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Check that <code>prometheus-adapter</code> is running properly. Check the service pod and logs in the <code>kube-system</code> namespace.</p></li><li><p>Check that the service pod is <code>Running</code>. Enter the following command.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># kubectl get pods -n kube-system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>From the resulting output, look for a status of <code>Running</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">NAME                                  READY     STATUS    RESTARTS   AGE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">prometheus-adapter-prometheus-adapter-568674d97f-hbzfx   1/1       Running   0          7h</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Check the service logs to make sure the service is running correctly by entering the command that follows.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># kubectl logs prometheus-adapter-prometheus-adapter-568674d97f-hbzfx -n kube-system</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  Then review the log output to confirm the service is running.</p><details id="prometheus-logs" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Prometheus Adaptor Logs</summary><div><div class="collapsibleContent_i85q"><p>  ...
I0724 10:18:45.696679       1 round_trippers.go:436] GET <a href="https://10.43.0.1:443/api/v1/namespaces/default/pods?labelSelector=app%3Dhello-world" target="_blank" rel="noopener noreferrer">https://10.43.0.1:443/api/v1/namespaces/default/pods?labelSelector=app%3Dhello-world</a> 200 OK in 2 milliseconds
I0724 10:18:45.696695       1 round_trippers.go:442] Response Headers:
I0724 10:18:45.696699       1 round_trippers.go:445]     Date: Tue, 24 Jul 2018 10:18:45 GMT
I0724 10:18:45.696703       1 round_trippers.go:445]     Content-Type: application/json
I0724 10:18:45.696706       1 round_trippers.go:445]     Content-Length: 2581
I0724 10:18:45.696766       1 request.go:836] Response Body: {&quot;kind&quot;:&quot;PodList&quot;,&quot;apiVersion&quot;:&quot;v1&quot;,&quot;metadata&quot;:{&quot;selfLink&quot;:&quot;/api/v1/namespaces/default/pods&quot;,&quot;resourceVersion&quot;:&quot;6237&quot;},&quot;items&quot;:[{&quot;metadata&quot;:{&quot;name&quot;:&quot;hello-world-54764dfbf8-q6l82&quot;,&quot;generateName&quot;:&quot;hello-world-54764dfbf8-&quot;,&quot;namespace&quot;:&quot;default&quot;,&quot;selfLink&quot;:&quot;/api/v1/namespaces/default/pods/hello-world-54764dfbf8-q6l82&quot;,&quot;uid&quot;:&quot;484cb929-8f29-11e8-99d2-067cac34e79c&quot;,&quot;resourceVersion&quot;:&quot;4066&quot;,&quot;creationTimestamp&quot;:&quot;2018-07-24T10:06:50Z&quot;,&quot;labels&quot;:{&quot;app&quot;:&quot;hello-world&quot;,&quot;pod-template-hash&quot;:&quot;1032089694&quot;},&quot;annotations&quot;:{&quot;cni.projectcalico.org/podIP&quot;:&quot;10.42.0.7/32&quot;},&quot;ownerReferences&quot;:<!-- -->[{&quot;apiVersion&quot;:&quot;extensions/v1beta1&quot;,&quot;kind&quot;:&quot;ReplicaSet&quot;,&quot;name&quot;:&quot;hello-world-54764dfbf8&quot;,&quot;uid&quot;:&quot;4849b9b1-8f29-11e8-99d2-067cac34e79c&quot;,&quot;controller&quot;:true,&quot;blockOwnerDeletion&quot;:true}]<!-- -->},&quot;spec&quot;:{&quot;volumes&quot;:<!-- -->[{&quot;name&quot;:&quot;default-token-ncvts&quot;,&quot;secret&quot;:{&quot;secretName&quot;:&quot;default-token-ncvts&quot;,&quot;defaultMode&quot;:420}}]<!-- -->,&quot;containers&quot;:[{&quot;name&quot;:&quot;hello-world&quot;,&quot;image&quot;:&quot;rancher/hello-world&quot;,&quot;ports&quot;:<!-- -->[{&quot;containerPort&quot;:80,&quot;protocol&quot;:&quot;TCP&quot;}]<!-- -->,&quot;resources&quot;:{&quot;requests&quot;:{&quot;cpu&quot;:&quot;500m&quot;,&quot;memory&quot;:&quot;64Mi&quot;}},&quot;volumeMounts&quot;:<!-- -->[{&quot;name&quot;:&quot;default-token-ncvts&quot;,&quot;readOnly&quot;:true,&quot;mountPath&quot;:&quot;/var/run/secrets/kubernetes.io/serviceaccount&quot;}]<!-- -->,&quot;terminationMessagePath&quot;:&quot;/dev/termination-log&quot;,&quot;terminationMessagePolicy&quot;:&quot;File&quot;,&quot;imagePullPolicy&quot;:&quot;Always&quot;}],&quot;restartPolicy&quot;:&quot;Always&quot;,&quot;terminationGracePeriodSeconds&quot;:30,&quot;dnsPolicy&quot;:&quot;ClusterFirst&quot;,&quot;serviceAccountName&quot;:&quot;default&quot;,&quot;serviceAccount&quot;:&quot;default&quot;,&quot;nodeName&quot;:&quot;34.220.18.140&quot;,&quot;securityContext&quot;:{},&quot;schedulerName&quot;:&quot;default-scheduler&quot;,&quot;tolerations&quot;:<!-- -->[{&quot;key&quot;:&quot;node.kubernetes.io/not-ready&quot;,&quot;operator&quot;:&quot;Exists&quot;,&quot;effect&quot;:&quot;NoExecute&quot;,&quot;tolerationSeconds&quot;:300},{&quot;key&quot;:&quot;node.kubernetes.io/unreachable&quot;,&quot;operator&quot;:&quot;Exists&quot;,&quot;effect&quot;:&quot;NoExecute&quot;,&quot;tolerationSeconds&quot;:300}]<!-- -->},&quot;status&quot;:{&quot;phase&quot;:&quot;Running&quot;,&quot;conditions&quot;:<!-- -->[{&quot;type&quot;:&quot;Initialized&quot;,&quot;status&quot;:&quot;True&quot;,&quot;lastProbeTime&quot;:null,&quot;lastTransitionTime&quot;:&quot;2018-07-24T10:06:50Z&quot;},{&quot;type&quot;:&quot;Ready&quot;,&quot;status&quot;:&quot;True&quot;,&quot;lastProbeTime&quot;:null,&quot;lastTransitionTime&quot;:&quot;2018-07-24T10:06:54Z&quot;},{&quot;type&quot;:&quot;PodScheduled&quot;,&quot;status&quot;:&quot;True&quot;,&quot;lastProbeTime&quot;:null,&quot;lastTransitionTime&quot;:&quot;2018-07-24T10:06:50Z&quot;}]<!-- -->,&quot;hostIP&quot;:&quot;34.220.18.140&quot;,&quot;podIP&quot;:&quot;10.42.0.7&quot;,&quot;startTime&quot;:&quot;2018-07-24T10:06:50Z&quot;,&quot;containerStatuses&quot;:<!-- -->[{&quot;name&quot;:&quot;hello-world&quot;,&quot;state&quot;:{&quot;running&quot;:{&quot;startedAt&quot;:&quot;2018-07-24T10:06:54Z&quot;}},&quot;lastState&quot;:{},&quot;ready&quot;:true,&quot;restartCount&quot;:0,&quot;image&quot;:&quot;rancher/hello-world:latest&quot;,&quot;imageID&quot;:&quot;docker-pullable://rancher/hello-world@sha256:4b1559cb4b57ca36fa2b313a3c7dde774801aa3a2047930d94e11a45168bc053&quot;,&quot;containerID&quot;:&quot;docker://cce4df5fc0408f03d4adf82c90de222f64c302bf7a04be1c82d584ec31530773&quot;}]<!-- -->,&quot;qosClass&quot;:&quot;Burstable&quot;}}]}
I0724 10:18:45.699525       1 api.go:74] GET <a href="http://prometheus-server.prometheus.34.220.18.140.sslip.io/api/v1/query?query=sum%28rate%28container_fs_read_seconds_total%7Bpod_name%3D%22hello-world-54764dfbf8-q6l82%22%2Ccontainer_name%21%3D%22POD%22%2Cnamespace%3D%22default%22%7D%5B5m%5D%29%29+by+%28pod_name%29&amp;time=1532427525.697" target="_blank" rel="noopener noreferrer">http://prometheus-server.prometheus.34.220.18.140.sslip.io/api/v1/query?query=sum%28rate%28container_fs_read_seconds_total%7Bpod_name%3D%22hello-world-54764dfbf8-q6l82%22%2Ccontainer_name%21%3D%22POD%22%2Cnamespace%3D%22default%22%7D%5B5m%5D%29%29+by+%28pod_name%29&amp;time=1532427525.697</a> 200 OK
I0724 10:18:45.699620       1 api.go:93] Response Body: {&quot;status&quot;:&quot;success&quot;,&quot;data&quot;:{&quot;resultType&quot;:&quot;vector&quot;,&quot;result&quot;:[{&quot;metric&quot;:{&quot;pod_name&quot;:&quot;hello-world-54764dfbf8-q6l82&quot;},&quot;value&quot;:<!-- -->[1532427525.697,&quot;0&quot;]<!-- -->}]}}
I0724 10:18:45.699939       1 wrap.go:42] GET /apis/custom.metrics.k8s.io/v1beta1/namespaces/default/pods/%2A/fs_read?labelSelector=app%3Dhello-world: (12.431262ms) 200 [<!-- -->[kube-controller-manager/v1.10.1 (linux/amd64) kubernetes/d4ab475/system:serviceaccount:kube-system:horizontal-pod-autoscaler]<!-- --> 10.42.0.0:24268]
I0724 10:18:51.727845       1 request.go:836] Request Body: {&quot;kind&quot;:&quot;SubjectAccessReview&quot;,&quot;apiVersion&quot;:&quot;authorization.k8s.io/v1beta1&quot;,&quot;metadata&quot;:{&quot;creationTimestamp&quot;:null},&quot;spec&quot;:{&quot;nonResourceAttributes&quot;:{&quot;path&quot;:&quot;/&quot;,&quot;verb&quot;:&quot;get&quot;},&quot;user&quot;:&quot;system:anonymous&quot;,&quot;group&quot;:<!-- -->[&quot;system:unauthenticated&quot;]<!-- -->},&quot;status&quot;:{&quot;allowed&quot;:false}}
...</p></div></div></details></li></ol><ol><li>Check that the metrics API is accessible from kubectl.</li></ol><ul><li><p>If you are accessing the cluster directly, enter your Server URL in the kubectl config in the following format: <code>https://&lt;Kubernetes_URL&gt;:6443</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># kubectl get --raw /apis/custom.metrics.k8s.io/v1beta1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  If the API is accessible, you should receive output that&#x27;s similar to what follows.</p><details id="custom-metrics-api-response" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>API Response</summary><div><div class="collapsibleContent_i85q"><p>  {&quot;kind&quot;:&quot;APIResourceList&quot;,&quot;apiVersion&quot;:&quot;v1&quot;,&quot;groupVersion&quot;:&quot;custom.metrics.k8s.io/v1beta1&quot;,&quot;resources&quot;:[{&quot;name&quot;:&quot;pods/fs_usage_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_rss&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_cpu_period&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_cfs_throttled&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_io_time&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_read&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_sector_writes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_user&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/last_seen&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/tasks_state&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_cpu_quota&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/start_time_seconds&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_limit_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_write&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_cache&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_usage_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_cfs_periods&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_cfs_throttled_periods&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_reads_merged&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_working_set_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/network_udp_usage&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_inodes_free&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_inodes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_io_time_weighted&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_failures&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_swap&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_cpu_shares&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_memory_swap_limit_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_usage&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_io_current&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_writes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_failcnt&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_reads&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_writes_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_writes_merged&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/network_tcp_usage&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_max_usage_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_memory_limit_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_memory_reservation_limit_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_load_average_10s&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_system&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_reads_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_sector_reads&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->}]}</p></div></div></details></li><li><p>If you are accessing the cluster through Rancher, enter your Server URL in the kubectl config in the following format: <code>https://&lt;RANCHER_URL&gt;/k8s/clusters/&lt;CLUSTER_ID&gt;</code>. Add the suffix <code>/k8s/clusters/&lt;CLUSTER_ID&gt;</code> to API path.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain"># kubectl get --raw /k8s/clusters/&lt;CLUSTER_ID&gt;/apis/custom.metrics.k8s.io/v1beta1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>  If the API is accessible, you should receive output that&#x27;s similar to what follows.</p><details id="custom-metrics-api-response-rancher" class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>API Response</summary><div><div class="collapsibleContent_i85q"><p>  {&quot;kind&quot;:&quot;APIResourceList&quot;,&quot;apiVersion&quot;:&quot;v1&quot;,&quot;groupVersion&quot;:&quot;custom.metrics.k8s.io/v1beta1&quot;,&quot;resources&quot;:[{&quot;name&quot;:&quot;pods/fs_usage_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_rss&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_cpu_period&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_cfs_throttled&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_io_time&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_read&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_sector_writes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_user&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/last_seen&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/tasks_state&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_cpu_quota&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/start_time_seconds&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_limit_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_write&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_cache&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_usage_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_cfs_periods&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_cfs_throttled_periods&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_reads_merged&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_working_set_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/network_udp_usage&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_inodes_free&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_inodes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_io_time_weighted&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_failures&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_swap&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_cpu_shares&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_memory_swap_limit_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_usage&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_io_current&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_writes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_failcnt&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_reads&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_writes_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_writes_merged&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/network_tcp_usage&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/memory_max_usage_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_memory_limit_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/spec_memory_reservation_limit_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_load_average_10s&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/cpu_system&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_reads_bytes&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->},{&quot;name&quot;:&quot;pods/fs_sector_reads&quot;,&quot;singularName&quot;:&quot;&quot;,&quot;namespaced&quot;:true,&quot;kind&quot;:&quot;MetricValueList&quot;,&quot;verbs&quot;:<!-- -->[&quot;get&quot;]<!-- -->}]}</p></div></div></details></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.0-2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-kubectl.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-10T07:31:45.000Z">9/10/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/manage-hpas-with-ui"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Managing HPAs with the Rancher UI</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v2.0-v2.4/how-to-guides/new-user-guides/kubernetes-resources-setup/horizontal-pod-autoscaler/test-hpas-with-kubectl"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Testing HPAs with kubectl</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#note-for-rancher-v23x" class="table-of-contents__link toc-highlight">Note For Rancher v2.3.x</a></li><li><a href="#note-for-rancher-before-v207" class="table-of-contents__link toc-highlight">Note For Rancher Before v2.0.7</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d2604d48.js"></script>
<script src="/assets/js/main.aa78001f.js"></script>
</body>
</html>
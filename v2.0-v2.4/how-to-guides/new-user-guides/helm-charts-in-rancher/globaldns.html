<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.0-2.4 plugin-docs plugin-id-default docs-doc-id-how-to-guides/new-user-guides/helm-charts-in-rancher/globaldns">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="Rancher Manager" href="/opensearch.xml"><title data-rh="true">Global DNS | Rancher Manager</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/globaldns"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.0-2.4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.0-2.4"><meta data-rh="true" name="docsearch:version" content="2.0-2.4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.0-2.4"><meta data-rh="true" property="og:title" content="Global DNS | Rancher Manager"><meta data-rh="true" name="description" content="Available as of v2.2.0"><meta data-rh="true" property="og:description" content="Available as of v2.2.0"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/globaldns"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/globaldns" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/globaldns" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.31d3122a.css">
<link rel="preload" href="/assets/js/runtime~main.d2604d48.js" as="script">
<link rel="preload" href="/assets/js/main.aa78001f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/v2.0-v2.4">v2.0-v2.4</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/">v2.6</a></li><li><a class="dropdown__link" href="/v2.5">v2.5</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/globaldns">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__docs navbar__link--active" href="/v2.0-v2.4">Docs</a><a href="https://github.com/rancher/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github btn btn-secondary icon-github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.0-v2.4">Rancher 2.0-2.4</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/v2.0-v2.4/how-to-guides">How-to Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/new-user-guides">New User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;New User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/kubernetes-cluster-setup">Kubernetes Cluster Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes Cluster Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/infrastructure-setup">Infrastructure Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Infrastructure Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/kubernetes-clusters-in-rancher-setup">Kubernetes Clusters in Rancher Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes Clusters in Rancher Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/kubernetes-resources-setup">Kubernetes Resources Setup</a><button aria-label="Toggle the collapsible sidebar category &#x27;Kubernetes Resources Setup&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/helm-charts-in-rancher">Helm Charts in Rancher</a><button aria-label="Toggle the collapsible sidebar category &#x27;Helm Charts in Rancher&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/built-in">Enabling and Disabling Built-in Global Catalogs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/adding-catalogs">Creating Custom Catalogs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/catalog-config">Custom Catalog Configuration Reference</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/creating-apps">Creating Catalog Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/managing-apps">Managing Catalog Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/multi-cluster-apps">Multi-Cluster Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/launching-apps">Launching Catalog Apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/tutorial">Tutorial: Example Custom Chart Creation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/globaldns">Global DNS</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/new-user-guides/deploy-apps-across-clusters">Deploying Applications across Clusters</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/backup-restore-and-disaster-recovery">Backup, Restore, and Disaster Recovery</a><button aria-label="Toggle the collapsible sidebar category &#x27;Backup, Restore, and Disaster Recovery&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/migrate-from-v1.6-v2.x">Migrating from v1.6 to v2.x</a><button aria-label="Toggle the collapsible sidebar category &#x27;Migrating from v1.6 to v2.x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/advanced-user-guides">Advanced User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/reference-guides">Reference Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/explanations">Explanations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Explanations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/faq">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.0-v2.4/contribute-to-rancher">Contributing to Rancher</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Rancher Manager<!-- --> <b>v2.0-v2.4</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/">latest version</a></b> (<!-- -->v2.6<!-- -->).</div></div><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/how-to-guides"><span itemprop="name">How-to Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/pages-for-subheaders/new-user-guides"><span itemprop="name">New User Guides</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/pages-for-subheaders/helm-charts-in-rancher"><span itemprop="name">Helm Charts in Rancher</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Global DNS</span><meta itemprop="position" content="4"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v2.0-v2.4</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Global DNS</h1></header><p><em>Available as of v2.2.0</em></p><p>Rancher&#x27;s Global DNS feature provides a way to program an external DNS provider to route traffic to your Kubernetes applications. Since the DNS programming supports spanning applications across different Kubernetes clusters, Global DNS is configured at a global level. An application can become highly available as it allows you to have one application run on different Kubernetes clusters. If one of your Kubernetes clusters goes down, the application would still be accessible.</p><blockquote><p><strong>Note:</strong> Global DNS is only available in <a href="/v2.0-v2.4/pages-for-subheaders/install-upgrade-on-a-kubernetes-cluster">Kubernetes installations</a> with the <code>local</code> cluster enabled.</p></blockquote><ul><li><a href="#global-dns-providers">Global DNS Providers</a></li><li><a href="#global-dns-entries">Global-DNS-Entries</a></li><li><a href="#permissions-for-global-dns-providers-and-entries">Permissions for Global DNS Providers and Entries</a></li><li><a href="#setting-up-global-dns-for-applications">Setting up Global DNS for Applications</a></li><li><a href="#adding-a-global-dns-entry">Adding a Global DNS Entry</a></li><li><a href="#editing-a-global-dns-provider">Editing a Global DNS Provider</a></li><li><a href="#global-dns-entry-configuration">Global DNS Entry Configuration</a></li><li><a href="#dns-provider-configuration">DNS Provider Configuration</a><ul><li><a href="#route53">Route53</a></li><li><a href="#cloudflare">CloudFlare</a></li><li><a href="#alidns">AliDNS</a></li></ul></li><li><a href="#adding-annotations-to-ingresses-to-program-the-external-dns">Adding Annotations to Ingresses to program the External DNS</a></li></ul><h1>Global DNS Providers</h1><p>Before adding in Global DNS entries, you will need to configure access to an external provider.</p><p>The following table lists the first version of Rancher each provider debuted.</p><table><thead><tr><th>DNS Provider</th><th>Available as of</th></tr></thead><tbody><tr><td><a href="https://aws.amazon.com/route53/" target="_blank" rel="noopener noreferrer">AWS Route53</a></td><td>v2.2.0</td></tr><tr><td><a href="https://www.cloudflare.com/dns/" target="_blank" rel="noopener noreferrer">CloudFlare</a></td><td>v2.2.0</td></tr><tr><td><a href="https://www.alibabacloud.com/product/dns" target="_blank" rel="noopener noreferrer">AliDNS</a></td><td>v2.2.0</td></tr></tbody></table><h1>Global DNS Entries</h1><p>For each application that you want to route traffic to, you will need to create a Global DNS Entry. This entry will use a fully qualified domain name (a.k.a FQDN) from a global DNS provider to target applications. The applications can either resolve to a single <a href="/v2.0-v2.4/how-to-guides/new-user-guides/deploy-apps-across-clusters">multi-cluster application</a> or to specific projects. You must <a href="#adding-annotations-to-ingresses-to-program-the-external-dns">add specific annotation labels</a> to the ingresses in order for traffic to be routed correctly to the applications. Without this annotation, the programming for the DNS entry will not work.</p><h1>Permissions for Global DNS Providers and Entries</h1><p>By default, only <a href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/global-permissions">global administrators</a> and the creator of the Global DNS provider or Global DNS entry have access to use, edit and delete them. When creating the provider or entry, the creator can add additional users in order for those users to access and manage them. By default, these members will get <code>Owner</code> role to manage them.</p><h1>Setting up Global DNS for Applications</h1><ol><li>From the <strong>Global View</strong>, select <strong>Tools &gt; Global DNS Providers</strong>.</li><li>To add a provider, choose from the available provider options and configure the Global DNS Provider with necessary credentials and an optional domain. For help, see <a href="#dns-provider-configuration">DNS Provider Configuration.</a></li><li>(Optional) Add additional users so they could  use the provider when creating Global DNS entries as well as manage the Global DNS provider.</li><li>(Optional) Pass any custom values in the Additional Options section.</li></ol><h1>Adding a Global DNS Entry</h1><ol><li>From the <strong>Global View</strong>, select <strong>Tools &gt; Global DNS Entries</strong>.</li><li>Click on <strong>Add DNS Entry</strong>.</li><li>Fill out the form. For help, refer to <a href="#global-dns-entry-configuration">Global DNS Entry Configuration.</a></li><li>Click <strong>Create.</strong></li></ol><h1>Editing a Global DNS Provider</h1><p>The <a href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/global-permissions">global administrators</a>, creator of the Global DNS provider and any users added as <code>members</code> to a Global DNS provider, have <em>owner</em> access to that provider. Any members can edit the following fields:</p><ul><li>Root Domain</li><li>Access Key &amp; Secret Key</li><li>Members</li><li>Custom values</li></ul><ol><li><p>From the <strong>Global View</strong>, select <strong>Tools &gt; Global DNS Providers</strong>.</p></li><li><p>For the Global DNS provider that you want to edit, click the <strong>⋮<!-- --> &gt; Edit</strong>.</p></li></ol><h1>Editing a Global DNS Entry</h1><p>The <a href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/manage-role-based-access-control-rbac/global-permissions">global administrators</a>, creator of the Global DNS entry and any users added as <code>members</code> to a Global DNS entry, have <em>owner</em> access to that DNS entry. Any members can edit the following fields:</p><ul><li>FQDN</li><li>Global DNS Provider</li><li>Target Projects or Multi-Cluster App</li><li>DNS TTL</li><li>Members</li></ul><p>Any users who can access the Global DNS entry can <strong>only</strong> add target projects that they have access to. However, users can remove <strong>any</strong> target project as there is no check to confirm if that user has access to the target project.</p><p>Permission checks are relaxed for removing target projects in order to support situations where the user&#x27;s permissions might have changed before they were able to delete the target project. Another use case could be that the target project was removed from the cluster before being removed from a target project of the Global DNS entry.</p><ol><li><p>From the <strong>Global View</strong>, select <strong>Tools &gt; Global DNS Entries</strong>.</p></li><li><p>For the Global DNS entry that you want to edit, click the <strong>⋮<!-- --> &gt; Edit</strong>.</p></li></ol><h1>Global DNS Entry Configuration</h1><table><thead><tr><th>Field</th><th>Description</th></tr></thead><tbody><tr><td>FQDN</td><td>Enter the <strong>FQDN</strong> you wish to program on the external DNS.</td></tr><tr><td>Provider</td><td>Select a Global DNS <strong>Provider</strong> from the list.</td></tr><tr><td>Resolves To</td><td>Select if this DNS entry will be for a <a href="/v2.0-v2.4/how-to-guides/new-user-guides/deploy-apps-across-clusters">multi-cluster application</a> or for workloads in different <a href="/v2.0-v2.4/how-to-guides/advanced-user-guides/manage-clusters/projects-and-namespaces">projects</a>.</td></tr><tr><td>Multi-Cluster App Target</td><td>The target for the global DNS entry. You will need to ensure that <a href="#adding-annotations-to-ingresses-to-program-the-external-dns">annotations are added to any ingresses</a> for the applications that you want to target.</td></tr><tr><td>DNS TTL</td><td>Configure the DNS time to live value in seconds. By default, it will be 300 seconds.</td></tr><tr><td>Member Access</td><td>Search for any users that you want to have the ability to manage this Global DNS entry.</td></tr></tbody></table><h1>DNS Provider Configuration</h1><h3 class="anchor anchorWithStickyNavbar_LWe7" id="route53">Route53<a class="hash-link" href="#route53" title="Direct link to heading">​</a></h3><table><thead><tr><th>Field</th><th>Explanation</th></tr></thead><tbody><tr><td>Name</td><td>Enter a <strong>Name</strong> for the provider.</td></tr><tr><td>Root Domain</td><td>(Optional) Enter the <strong>Root Domain</strong> of the hosted zone on AWS Route53. If this is not provided, Rancher&#x27;s Global DNS Provider will work with all hosted zones that the AWS keys can access.</td></tr><tr><td>Credential Path</td><td>The <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-files.html#cli-configure-files-where" target="_blank" rel="noopener noreferrer">AWS credential path.</a></td></tr><tr><td>Role ARN</td><td>An <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html" target="_blank" rel="noopener noreferrer">Amazon Resource Name.</a></td></tr><tr><td>Region</td><td>An <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html#Concepts.RegionsAndAvailabilityZones.Regions" target="_blank" rel="noopener noreferrer">AWS region.</a></td></tr><tr><td>Zone</td><td>An <a href="https://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.RegionsAndAvailabilityZones.html#Concepts.RegionsAndAvailabilityZones.AvailabilityZones" target="_blank" rel="noopener noreferrer">AWS zone.</a></td></tr><tr><td>Access Key</td><td>Enter the AWS <strong>Access Key</strong>.</td></tr><tr><td>Secret Key</td><td>Enter the AWS <strong>Secret Key</strong>.</td></tr><tr><td>Member Access</td><td>Under <strong>Member Access</strong>, search for any users that you want to have the ability to use this provider. By adding this user, they will also be able to manage the Global DNS Provider entry.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloudflare">CloudFlare<a class="hash-link" href="#cloudflare" title="Direct link to heading">​</a></h3><table><thead><tr><th>Field</th><th>Explanation</th></tr></thead><tbody><tr><td>Name</td><td>Enter a <strong>Name</strong> for the provider.</td></tr><tr><td>Root Domain</td><td>Optional: Enter the <strong>Root Domain</strong>. In case this is not provided, Rancher&#x27;s Global DNS Provider will work with all domains that the keys can access.</td></tr><tr><td>Proxy Setting</td><td>When set to yes, the global DNS entry that gets created for the provider has proxy settings on.</td></tr><tr><td>API Email</td><td>Enter the CloudFlare <strong>API Email</strong>.</td></tr><tr><td>API Key</td><td>Enter the CloudFlare <strong>API Key</strong>.</td></tr><tr><td>Member Access</td><td>Search for any users that you want to have the ability to use this provider. By adding this user, they will also be able to manage the Global DNS Provider entry.</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_LWe7" id="alidns">AliDNS<a class="hash-link" href="#alidns" title="Direct link to heading">​</a></h3><blockquote><p><strong>Notes:</strong></p><ul><li>Alibaba Cloud SDK uses TZ data. It needs to be present on <code>/usr/share/zoneinfo</code> path of the nodes running <code>local</code> cluster, and it is mounted to the external DNS pods. If it is not available on the nodes, please follow the <a href="https://www.ietf.org/timezones/tzdb-2018f/tz-link.html" target="_blank" rel="noopener noreferrer">instruction</a> to prepare it.</li><li>Different versions of AliDNS have different allowable TTL range, where the default TTL for a global DNS entry may not be valid. Please see the <a href="https://www.alibabacloud.com/help/doc-detail/34338.htm" target="_blank" rel="noopener noreferrer">reference</a> before adding an AliDNS entry.</li></ul></blockquote><table><thead><tr><th>Field</th><th>Explanation</th></tr></thead><tbody><tr><td>Name</td><td>Enter a <strong>Name</strong> for the provider.</td></tr><tr><td>Root Domain</td><td>Optional: Enter the <strong>Root Domain</strong>. In case this is not provided, Rancher&#x27;s Global DNS Provider will work with all domains that the keys can access.</td></tr><tr><td>Access Key</td><td>Enter the <strong>Access Key</strong>.</td></tr><tr><td>Secret Key</td><td>Enter the <strong>Secret Key</strong>.</td></tr><tr><td>Member Access</td><td>Search for any users that you want to have the ability to use this provider. By adding this user, they will also be able to manage the Global DNS Provider entry.</td></tr></tbody></table><h1>Adding Annotations to Ingresses to program the External DNS</h1><p>In order for Global DNS entries to be programmed, you will need to add a specific annotation on an ingress in your application or target project.</p><p>For any application that you want targeted for your Global DNS entry, find an ingress associated with the application.</p><p>This ingress needs to use a specific <code>hostname</code> and an annotation that should match the FQDN of the Global DNS entry.</p><p>In order for the DNS to be programmed, the following requirements must be met:</p><ul><li>The ingress routing rule must be set to use a <code>hostname</code> that matches the FQDN of the Global DNS entry.</li><li>The ingress must have an annotation (<code>rancher.io/globalDNS.hostname</code>) and the value of this annotation should match the FQDN of the Global DNS entry.</li></ul><p>Once the ingress in your <a href="/v2.0-v2.4/how-to-guides/new-user-guides/deploy-apps-across-clusters">multi-cluster application</a> or in your target projects is in an <code>active</code> state, the FQDN will be programmed on the external DNS against the Ingress IP addresses.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.0-2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/globaldns.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-10T07:31:45.000Z">9/10/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/v2.0-v2.4/how-to-guides/new-user-guides/helm-charts-in-rancher/tutorial"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Tutorial: Example Custom Chart Creation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v2.0-v2.4/how-to-guides/new-user-guides/deploy-apps-across-clusters"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploying Applications across Clusters</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#route53" class="table-of-contents__link toc-highlight">Route53</a></li><li><a href="#cloudflare" class="table-of-contents__link toc-highlight">CloudFlare</a></li><li><a href="#alidns" class="table-of-contents__link toc-highlight">AliDNS</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d2604d48.js"></script>
<script src="/assets/js/main.aa78001f.js"></script>
</body>
</html>
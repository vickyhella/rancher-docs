<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-2.0-2.4 plugin-docs plugin-id-default docs-doc-id-how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="search" type="application/opensearchdescription+xml" title="Rancher Manager" href="/opensearch.xml"><title data-rh="true">Configuring Azure AD | Rancher Manager</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="2.0-2.4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-2.0-2.4"><meta data-rh="true" name="docsearch:version" content="2.0-2.4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-2.0-2.4"><meta data-rh="true" property="og:title" content="Configuring Azure AD | Rancher Manager"><meta data-rh="true" name="description" content="Available as of v2.0.3"><meta data-rh="true" property="og:description" content="Available as of v2.0.3"><link data-rh="true" rel="icon" href="/img/favicon.png"><link data-rh="true" rel="canonical" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad" hreflang="en"><link data-rh="true" rel="alternate" href="http://docs.ranchermanager.rancher.io//v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://30NEY6C9UY-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.31d3122a.css">
<link rel="preload" href="/assets/js/runtime~main.d2604d48.js" as="script">
<link rel="preload" href="/assets/js/main.aa78001f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/rancher-logo-horiz-color.svg" alt="logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/v2.0-v2.4">v2.0-v2.4</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad">v2.6</a></li><li><a class="dropdown__link" href="/v2.5/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad">v2.5</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad">v2.0-v2.4</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__docs navbar__link--active" href="/v2.0-v2.4">Docs</a><a href="https://github.com/rancher/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__github btn btn-secondary icon-github">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.0-v2.4">Rancher 2.0-2.4</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/v2.0-v2.4/how-to-guides">How-to Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;How-to Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/new-user-guides">New User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;New User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/advanced-user-guides">Advanced User Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced User Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/authentication-permissions-and-global-configuration">Authentication, Permissions, and Global Configuration</a><button aria-label="Toggle the collapsible sidebar category &#x27;Authentication, Permissions, and Global Configuration&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/about-authentication">About Authentication</a><button aria-label="Toggle the collapsible sidebar category &#x27;About Authentication&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/authentication-config">Authentication Config</a><button aria-label="Toggle the collapsible sidebar category &#x27;Authentication Config&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/manage-users-and-groups">Users and Groups</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/create-local-users">Local Authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-google-oauth">Configuring Google OAuth</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-active-directory">Configuring Active Directory (AD)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-freeipa">Configuring FreeIPA</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad">Configuring Azure AD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-github">Configuring GitHub</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-keycloak">Configuring Keycloak (SAML)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-pingidentity">Configuring PingIdentity (SAML)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-6 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-okta-saml">Configuring Okta (SAML)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/configure-microsoft-ad-federation-service-saml">Configure Microsoft AD Federation Service (SAML)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configure Microsoft AD Federation Service (SAML)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-5 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/configure-shibboleth-saml">Configure Shibboleth (SAML)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Configure Shibboleth (SAML)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/manage-role-based-access-control-rbac">Manage Role-Based Access Control (RBAC)</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manage Role-Based Access Control (RBAC)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/about-provisioning-drivers">About Provisioning Drivers</a><button aria-label="Toggle the collapsible sidebar category &#x27;About Provisioning Drivers&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/about-rke1-templates">About RKE1 Templates</a><button aria-label="Toggle the collapsible sidebar category &#x27;About RKE1 Templates&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/create-pod-security-policies">Pod Security Policies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/global-default-private-registry">Configuring a Global Default Private Registry</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/manage-clusters">Manage Clusters</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manage Clusters&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/manage-projects">Manage Projects</a><button aria-label="Toggle the collapsible sidebar category &#x27;Manage Projects&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/istio-setup-guide">Istio Setup Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Istio Setup Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/v2.0-v2.4/pages-for-subheaders/cis-scan-guides">CIS Scan Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;CIS Scan Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/reference-guides">Reference Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reference Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/explanations">Explanations</a><button aria-label="Toggle the collapsible sidebar category &#x27;Explanations&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/faq">FAQ</a><button aria-label="Toggle the collapsible sidebar category &#x27;FAQ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/v2.0-v2.4/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/v2.0-v2.4/contribute-to-rancher">Contributing to Rancher</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Rancher Manager<!-- --> <b>v2.0-v2.4</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad">latest version</a></b> (<!-- -->v2.6<!-- -->).</div></div><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/how-to-guides"><span itemprop="name">How-to Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/pages-for-subheaders/advanced-user-guides"><span itemprop="name">Advanced User Guides</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/pages-for-subheaders/authentication-permissions-and-global-configuration"><span itemprop="name">Authentication, Permissions, and Global Configuration</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/pages-for-subheaders/about-authentication"><span itemprop="name">About Authentication</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/v2.0-v2.4/pages-for-subheaders/authentication-config"><span itemprop="name">Authentication Config</span></a><meta itemprop="position" content="5"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Configuring Azure AD</span><meta itemprop="position" content="6"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: v2.0-v2.4</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Configuring Azure AD</h1></header><p><em>Available as of v2.0.3</em></p><p>If you have an instance of Active Directory (AD) hosted in Azure, you can configure Rancher to allow your users to log in using their AD accounts. Configuration of Azure AD external authentication requires you to make configurations in both Azure and Rancher.</p><blockquote><p><strong>Note:</strong> Azure AD integration only supports Service Provider initiated logins.</p></blockquote><blockquote><p><strong>Prerequisite:</strong> Have an instance of Azure AD configured.</p></blockquote><blockquote><p><strong>Note:</strong> Most of this procedure takes place from the <a href="https://portal.azure.com/" target="_blank" rel="noopener noreferrer">Microsoft Azure Portal</a>.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="azure-active-directory-configuration-outline">Azure Active Directory Configuration Outline<a class="hash-link" href="#azure-active-directory-configuration-outline" title="Direct link to heading">​</a></h2><p>Configuring Rancher to allow your users to authenticate with their Azure AD accounts involves multiple procedures. Review the outline below before getting started.</p><a id="tip"></a><blockquote><p><strong>Tip:</strong> Before you start, we recommend creating an empty text file. You can use this file to copy values from Azure that you&#x27;ll paste into Rancher later.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-register-rancher-with-azure">1. Register Rancher with Azure<a class="hash-link" href="#1-register-rancher-with-azure" title="Direct link to heading">​</a></h3><p>Before enabling Azure AD within Rancher, you must register Rancher with Azure.</p><ol><li><p>Log in to <a href="https://portal.azure.com/" target="_blank" rel="noopener noreferrer">Microsoft Azure</a> as an administrative user. Configuration in future steps requires administrative access rights.</p></li><li><p>Use search to open the <strong>App registrations</strong> service.</p><p><img loading="lazy" alt="Open App Registrations" src="/assets/images/search-app-registrations-34ef6dd44529a1cf0cb892041cb506be.png" width="405" height="363" class="img_ev3q"></p></li><li><p>Click <strong>New registrations</strong> and complete the <strong>Create</strong> form.</p><p><img loading="lazy" alt="New App Registration" src="/assets/images/new-app-registration-0bfcbbd8bebdd8bce7d1b6a3cf62e316.png" width="708" height="572" class="img_ev3q"></p><ol><li><p>Enter a <strong>Name</strong> (something like <code>Rancher</code>).</p></li><li><p>From <strong>Supported account types</strong>, select &quot;Accounts in this organizational directory only (AzureADTest only - Single tenant)&quot; This corresponds to the legacy app registration options.</p></li><li><p>In the <strong>Redirect URI</strong> section, make sure <strong>Web</strong> is selected from the dropdown and enter the URL of your Rancher Server in the text box next to the dropdown. This Rancher server URL should be appended with the verification path: <code>&lt;MY_RANCHER_URL&gt;/verify-auth-azure</code>.</p><blockquote><p><strong>Tip:</strong> You can find your personalized Azure reply URL in Rancher on the Azure AD Authentication page (Global View &gt; Security Authentication &gt; Azure AD).</p></blockquote></li><li><p>Click <strong>Register</strong>.</p></li></ol></li></ol><blockquote><p><strong>Note:</strong> It can take up to five minutes for this change to take affect, so don&#x27;t be alarmed if you can&#x27;t authenticate immediately after Azure AD configuration.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-create-a-new-client-secret">2. Create a new client secret<a class="hash-link" href="#2-create-a-new-client-secret" title="Direct link to heading">​</a></h3><p>From the Azure portal, create a client secret. Rancher will use this key to authenticate with Azure AD.</p><ol><li><p>Use search to open <strong>App registrations</strong> services. Then open the entry for Rancher that you created in the last procedure.</p><p> <img loading="lazy" alt="Open Rancher Registration" src="/assets/images/open-rancher-app-6f7230dd394150950485e58e53db8831.png" width="865" height="565" class="img_ev3q"></p></li><li><p>From the navigation pane on left, click <strong>Certificates and Secrets</strong>.</p></li><li><p>Click <strong>New client secret</strong>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">![Create new client secret](/img/select-client-secret.png)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1. Enter a **Description** (something like `Rancher`).</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1. Select duration for the key from the options under **Expires**. This drop-down sets the expiration date for the key. Shorter durations are more secure, but require you to create a new key after expiration.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">1. Click **Add** (you don&#x27;t need to enter a value—it will automatically populate after you save).</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><a id="secret"></a></li><li><p>Copy the key value and save it to an <a href="#tip">empty text file</a>.</p><p>You&#x27;ll enter this key into the Rancher UI later as your <strong>Application Secret</strong>.</p><p>You won&#x27;t be able to access the key value again within the Azure UI.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-set-required-permissions-for-rancher">3. Set Required Permissions for Rancher<a class="hash-link" href="#3-set-required-permissions-for-rancher" title="Direct link to heading">​</a></h3><p>Next, set API permissions for Rancher within Azure.</p><ol><li><p>From the navigation pane on left, select <strong>API permissions</strong>.</p><p><img loading="lazy" alt="Open Required Permissions" src="/assets/images/select-required-permissions-1f7f80c666c7381ee943f9a0b7284a95.png" width="815" height="485" class="img_ev3q"></p></li><li><p>Click <strong>Add a permission</strong>.</p></li><li><p>From the <strong>Azure Active Directory Graph</strong>, select the following <strong>Delegated Permissions</strong>:</p><p><img loading="lazy" alt="Select API Permissions" src="/assets/images/select-required-permissions-2-30ae245f8b590009b00c0a11c620b9b6.png" width="2734" height="1414" class="img_ev3q"></p><br><br>- **Access the directory as the signed-in user** - **Read directory data** - **Read all groups** - **Read all users&#x27; full profiles** - **Read all users&#x27; basic profiles** - **Sign in and read user profile**</li><li><p>Click <strong>Add permissions</strong>.</p></li><li><p>From <strong>API permissions</strong>, click <strong>Grant admin consent</strong>. Then click <strong>Yes</strong>.</p><blockquote><p><strong>Note:</strong> You must be signed in as an Azure administrator to successfully save your permission settings.</p></blockquote></li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-add-a-reply-url">4. Add a Reply URL<a class="hash-link" href="#4-add-a-reply-url" title="Direct link to heading">​</a></h3><p>To use Azure AD with Rancher you must whitelist Rancher with Azure. You can complete this whitelisting by providing Azure with a reply URL for Rancher, which is your Rancher Server URL followed with a verification path.</p><ol><li><p>From the <strong>Setting</strong> blade, select <strong>Reply URLs</strong>.</p><p><img loading="lazy" alt="Azure: Enter Reply URL" src="/assets/images/enter-azure-reply-url-8d50e0b1f95ed7160104711cb2736fa8.png" width="890" height="510" class="img_ev3q"></p></li><li><p>From the <strong>Reply URLs</strong> blade, enter the URL of your Rancher Server, appended with the verification path: <code>&lt;MY_RANCHER_URL&gt;/verify-auth-azure</code>.</p><blockquote><p><strong>Tip:</strong> You can find your personalized Azure reply URL in Rancher on the Azure AD Authentication page (Global View &gt; Security Authentication &gt; Azure AD).</p></blockquote></li><li><p>Click <strong>Save</strong>.</p></li></ol><p><strong>Result:</strong> Your reply URL is saved.</p><blockquote><p><strong>Note:</strong> It can take up to five minutes for this change to take affect, so don&#x27;t be alarmed if you can&#x27;t authenticate immediately after Azure AD configuration.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="5-copy-azure-application-data">5. Copy Azure Application Data<a class="hash-link" href="#5-copy-azure-application-data" title="Direct link to heading">​</a></h3><p>As your final step in Azure, copy the data that you&#x27;ll use to configure Rancher for Azure AD authentication and paste it into an empty text file.</p><ol><li><p>Obtain your Rancher <strong>Tenant ID</strong>.</p><ol><li><p>Use search to open the <strong>Azure Active Directory</strong> service.</p><p> <img loading="lazy" alt="Open Azure Active Directory" src="/assets/images/search-azure-ad-29f1c76b9c312893fa934e4d05c79dfd.png" width="402" height="462" class="img_ev3q"></p></li><li><p>From the left navigation pane, open <strong>Overview</strong>.</p></li><li><p>Copy the <strong>Directory ID</strong> and paste it into your <a href="#tip">text file</a>.</p><p>You&#x27;ll paste this value into Rancher as your <strong>Tenant ID</strong>.</p></li></ol></li><li><p>Obtain your Rancher <strong>Application ID</strong>.</p><ol><li><p>Use search to open <strong>App registrations</strong>.</p><p> <img loading="lazy" alt="Open App Registrations" src="/assets/images/search-app-registrations-34ef6dd44529a1cf0cb892041cb506be.png" width="405" height="363" class="img_ev3q"></p></li><li><p>Find the entry you created for Rancher.</p></li><li><p>Copy the <strong>Application ID</strong> and paste it to your <a href="#tip">text file</a>.</p></li></ol></li><li><p>Obtain your Rancher <strong>Graph Endpoint</strong>, <strong>Token Endpoint</strong>, and <strong>Auth Endpoint</strong>.</p><ol><li><p>From <strong>App registrations</strong>, click <strong>Endpoints</strong>.</p><p><img loading="lazy" alt="Click Endpoints" src="/assets/images/click-endpoints-73843667a5eb629dedd96dbbdb6aa7b7.png" width="553" height="240" class="img_ev3q"></p></li><li><p>Copy the following endpoints to your clipboard and paste them into your <a href="#tip">text file</a> (these values will be your Rancher endpoint values).</p><ul><li><strong>Microsoft Graph API endpoint</strong> (Graph Endpoint)</li><li><strong>OAuth 2.0 token endpoint (v1)</strong> (Token Endpoint)</li><li><strong>OAuth 2.0 authorization endpoint (v1)</strong> (Auth Endpoint)</li></ul></li></ol></li></ol><blockquote><p><strong>Note:</strong> Copy the v1 version of the endpoints</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="6-configure-azure-ad-in-rancher">6. Configure Azure AD in Rancher<a class="hash-link" href="#6-configure-azure-ad-in-rancher" title="Direct link to heading">​</a></h3><p>From the Rancher UI, enter information about your AD instance hosted in Azure to complete configuration.</p><p>Enter the values that you copied to your <a href="#tip">text file</a>.</p><ol><li><p>Log into Rancher. From the <strong>Global</strong> view, select <strong>Security &gt; Authentication</strong>.</p></li><li><p>Select <strong>Azure AD</strong>.</p></li><li><p>Complete the <strong>Configure Azure AD Account</strong> form using the information you copied while completing <a href="#5-copy-azure-application-data">Copy Azure Application Data</a>.</p><blockquote><p><strong>Important:</strong> When entering your Graph Endpoint, remove the tenant ID from the URL, like below.</p><pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><code class="codeBlockLines_e6Vv">http<span>s://g</span>raph.windows.net/<del>abb5adde-bee8-4821-8b03-e63efdc7701c</del></code></pre></blockquote><p>The following table maps the values you copied in the Azure portal to the fields in Rancher.</p><table><thead><tr><th>Rancher Field</th><th>Azure Value</th></tr></thead><tbody><tr><td>Tenant ID</td><td>Directory ID</td></tr><tr><td>Application ID</td><td>Application ID</td></tr><tr><td>Application Secret</td><td>Key Value</td></tr><tr><td>Endpoint</td><td><a href="https://login.microsoftonline.com/" target="_blank" rel="noopener noreferrer">https://login.microsoftonline.com/</a></td></tr><tr><td>Graph Endpoint</td><td>Microsoft Azure AD Graph API Endpoint</td></tr><tr><td>Token Endpoint</td><td>OAuth 2.0 Token Endpoint</td></tr><tr><td>Auth Endpoint</td><td>OAuth 2.0 Authorization Endpoint</td></tr></tbody></table></li><li><p>Click <strong>Authenticate with Azure</strong>.</p></li></ol><p><strong>Result:</strong> Azure Active Directory authentication is configured.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/rancher/rancher-docs/edit/main/versioned_docs/version-2.0-2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-azure-ad.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-09-10T07:31:45.000Z">9/10/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-freeipa"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Configuring FreeIPA</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/v2.0-v2.4/how-to-guides/advanced-user-guides/authentication-permissions-and-global-configuration/about-authentication/authentication-config/configure-github"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Configuring GitHub</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#azure-active-directory-configuration-outline" class="table-of-contents__link toc-highlight">Azure Active Directory Configuration Outline</a><ul><li><a href="#1-register-rancher-with-azure" class="table-of-contents__link toc-highlight">1. Register Rancher with Azure</a></li><li><a href="#2-create-a-new-client-secret" class="table-of-contents__link toc-highlight">2. Create a new client secret</a></li><li><a href="#3-set-required-permissions-for-rancher" class="table-of-contents__link toc-highlight">3. Set Required Permissions for Rancher</a></li><li><a href="#4-add-a-reply-url" class="table-of-contents__link toc-highlight">4. Add a Reply URL</a></li><li><a href="#5-copy-azure-application-data" class="table-of-contents__link toc-highlight">5. Copy Azure Application Data</a></li><li><a href="#6-configure-azure-ad-in-rancher" class="table-of-contents__link toc-highlight">6. Configure Azure AD in Rancher</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 SUSE Rancher. All Rights Reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d2604d48.js"></script>
<script src="/assets/js/main.aa78001f.js"></script>
</body>
</html>